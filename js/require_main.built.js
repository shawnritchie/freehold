/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.1.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-23T21:10Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.16
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-01-13
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// Backbone.Wreqr (Backbone.Marionette)
// ----------------------------------
// v1.3.1
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.wreqr

// Backbone.BabySitter
// -------------------
// v0.1.4
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://github.com/marionettejs/backbone.babysitter

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v2.1.0
//
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 * RequireJS underscore-tpl
 * Loads and precompile underscore templates
 * https://github.com/dciccale/requirejs-underscore-tpl
 *
 * Dependencies:
 * Underscore.js: https://underscorejs.org
 * RequireJS text plugin: https://github.com/requirejs/text
 *
 * Copyright (c) 2013 Denis Ciccale (@tdecs)
 * Licensed under the MIT license.
 * https://github.com/dciccale/requirejs-underscore-tpl/blob/master/LICENSE-MIT
 */

/*!jQuery Knob*/

/**
 * Downward compatible, touchable dial
 *
 * Version: 1.2.11
 * Requires: jQuery v1.7+
 *
 * Copyright (c) 2012 Anthony Terrien
 * Under MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Thanks to vor, eskimoblood, spiffistan, FabrizioC
 */

/*
 Highcharts JS v4.0.4 (2014-09-02)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/

var requirejs,require,define;(function(e){function h(e,t){return f.call(e,t)}function p(e,t){var n,r,i,s,o,a,f,l,h,p,d,v=t&&t.split("/"),m=u.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,u.nodeIdCompat&&c.test(e[o])&&(e[o]=e[o].replace(c,"")),e=v.concat(e);for(h=0;h<e.length;h+=1){d=e[h];if(d===".")e.splice(h,1),h-=1;else if(d===".."){if(h===1&&(e[2]===".."||e[0]===".."))break;h>0&&(e.splice(h-1,2),h-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(h=n.length;h>0;h-=1){r=n.slice(0,h).join("/");if(v)for(p=v.length;p>0;p-=1){i=m[v.slice(0,p).join("/")];if(i){i=i[r];if(i){s=i,a=h;break}}}if(s)break;!f&&g&&g[r]&&(f=g[r],l=h)}!s&&f&&(s=f,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function d(t,r){return function(){var i=l.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),n.apply(e,i.concat([t,r]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){s[e]=t}}function g(n){if(h(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!h(s,n)&&!h(a,n))throw new Error("No "+n);return s[n]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice,c=/\.js$/;r=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return d(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:b(e)}}},t=function(t,n,u,f){var l,c,p,v,y,b=[],w=typeof u,E;f=f||t;if(w==="undefined"||w==="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){v=r(n[y],f),c=v.f;if(c==="require")b[y]=i.require(t);else if(c==="exports")b[y]=i.exports(t),E=!0;else if(c==="module")l=b[y]=i.module(t);else if(h(s,c)||h(o,c)||h(a,c))b[y]=g(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,d(f,!0),m(c),{}),b[y]=s[c]}}p=u?u.apply(s[t],b):undefined;if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(p!==e||!E)s[t]=p}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){if(typeof s=="string")return i[s]?i[s](o):g(r(s,o).f);if(!s.splice){u=s,u.deps&&n(u.deps,u.callback);if(!o)return;o.splice?(s=o,o=a,a=null):s=e}return o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},4),n},n.config=function(e){return n(e)},requirejs._defined=s,define=function(e,t,n){t.splice||(n=t,t=[]),!h(s,e)&&!h(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define("bower_components/almond/almond",function(){}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(e,t){if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.wreqr",["backbone","underscore"],function(e,n){return t(e,n)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(n,r)}else t(e.Backbone,e._)}(this,function(e,t){var n=e.Wreqr,r=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)return;return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),r.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,r){var i=this.storage.getCommands(e);t.each(i.instances,function(e){n.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,r=e.storageType||this.storageType;t.isFunction(r)?n=new r:n=r,this.storage=n}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),r.Channel=function(n){var r=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,r){if(!n)return;r=r||this;var i=e==="vent"?"on":"setHandler";t.each(n,function(n,s){this[e][i](s,t.bind(n,r))},this)}}),r}(r),r.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(r[e],function(t){this[e][t]=i(this,e,t)},this)},this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(e,t,n){return function(r){var i=e._getChannel(r)[t],s=Array.prototype.slice.call(arguments,1);return i[n].apply(i,s)}};return new n}(r),e.Wreqr}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.babysitter",["backbone","underscore"],function(e,n){return t(e,n)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(n,r)}else t(e.Backbone,e._)}(this,function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}),function(e,t){if(typeof define=="function"&&define.amd)define("marionette",["backbone","underscore","backbone.wreqr","backbone.babysitter"],function(n,r){return e.Marionette=t(e,n,r)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore"),i=require("backbone.wreqr"),s=require("backbone.babysitter");module.exports=t(e,n,r)}else e.Marionette=t(e,e.Backbone,e._)}(this,function(e,t,n){function o(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r=e.Marionette,i=t.Marionette={};i.VERSION="2.1.0",i.noConflict=function(){return e.Marionette=r,this},i.Deferred=t.$.Deferred;var s=Array.prototype.slice;return i.extend=t.Model.extend,i.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},i.proxyGetOption=function(e){return i.getOption(this,e)},i.normalizeMethods=function(e){var t={};return n.each(e,function(e,r){n.isFunction(e)||(e=this[e]);if(!e)return;t[r]=e},this),t},i.normalizeUIKeys=function(e,t){if(typeof e=="undefined")return;return n.each(n.keys(e),function(n){var r=/@ui\.[a-zA-Z_$0-9]*/g;n.match(r)&&(e[n.replace(r,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e},i.actAsCollection=function(e,t){var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(r,function(r){e[r]=function(){var e=n.values(n.result(this,t)),i=[e].concat(n.toArray(arguments));return n[r].apply(n,i)}})},i.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i],o;return n.isFunction(s)&&(o=s.apply(this,n.tail(arguments))),n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),o};return r}(),i.MonitorDOMRefresh=function(e){function r(e){e._isShown=!0,s(e)}function i(e){e._isRendered=!0,s(e)}function s(e){e._isShown&&e._isRendered&&o(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function o(n){return t.$.contains(e,n.el)}return function(e){e.listenTo(e,"show",function(){r(e)}),e.listenTo(e,"render",function(){i(e)})}}(document.documentElement),function(e){function t(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];i||o('Method "'+n+'" was configured as an event handler, but does not exist.'),e.listenTo(t,r,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i)})}function s(e,t,n,r){e.stopListening(t,n,r)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,s,i)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(i),i.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),r.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),i.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{destroy:function(){var e=s.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.triggerMethod.apply(this,["destroy"].concat(e)),this.stopListening(),this.off(),this},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption}),i.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize(this.options)},i.Object.extend=i.extend,n.extend(i.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),n.extend(i.Object.prototype,t.Events),i.Region=function(e){this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,this.el||o('An "el" must be specified for a region.',"NoElError"),this.$el=this.getEl(this.el);if(this.initialize){var n=s.apply(arguments);this.initialize.apply(this,n)}},n.extend(i.Region,{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);o("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,r){var i=e.regionClass||r,s=n.omit(e,"selector","regionClass");e.selector&&!s.el&&(s.el=e.selector);var o=new i(s);return e.parentEl&&(o.getEl=function(r){if(n.isObject(r))return t.$(r);var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(r)}),o},_buildRegionFromRegionClass:function(e){return new e}}),n.extend(i.Region.prototype,t.Events,{show:function(e,t){this._ensureElement();var r=t||{},i=e!==this.currentView,s=!!r.preventDestroy,o=!!r.forceShow,u=!!this.currentView,a=!s&&i;a&&this.empty();var f=i||o;return f?(e.once("destroy",n.bind(this.empty,this)),e.render(),u&&this.triggerMethod("before:swap",e),this.triggerMethod("before:show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("before:show"):this.triggerMethod.call(e,"before:show"),this.attachHtml(e),this.currentView=e,u&&this.triggerMethod("swap",e),this.triggerMethod("show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("show"):this.triggerMethod.call(e,"show"),this):this},_ensureElement:function(){n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),(!this.$el||this.$el.length===0)&&o('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(e){return t.$(e)},attachHtml:function(e){this.el.innerHTML="",this.el.appendChild(e.el)},empty:function(){var e=this.currentView;if(!e)return;return this.triggerMethod("before:empty",e),this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,this},_destroyView:function(){var e=this.currentView;e.destroy&&!e.isDestroyed?e.destroy():e.remove&&e.remove()},attachView:function(e){return this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this},getOption:i.proxyGetOption,triggerMethod:i.triggerMethod}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.call(this,t)},addRegions:function(e,t){n.isFunction(e)&&(e=e.apply(this,arguments));var r={};return n.each(e,function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this.triggerMethod("before:add:region",t,i),this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.each(e,function(e){e.empty()},this),e},destroy:function(){return this.removeRegions(),e.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(i),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=s.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var n=t.$(e).html();return(!n||n.length===0)&&o('Could not find template: "'+e+'"',"NoTemplateError"),n},compileTemplate:function(e){return n.template(e)}}),i.Renderer={render:function(e,t){e||o("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var n;return typeof e=="function"?n=e:n=i.TemplateCache.get(e),n(t)}},i.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),n.isObject(this.behaviors)&&new i.Behaviors(this),t.View.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,s.call(arguments,1))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui"),r=n.result(this,"_uiBindings");return i.normalizeUIKeys(e,r||t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,r){var i=n.isObject(t),s=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,o=i?t.preventDefault:n,u=i?t.stopPropagation:r;o&&n&&n.apply(e),u&&r&&r.apply(e)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,a)}},this),e},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),this},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this)),e=this.normalizeUIKeys(e);var r={},i=n.result(this,"behaviorEvents")||{},s=this.configureTriggers();n.extend(r,i,e,s),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=s.call(arguments);return t.View.prototype.undelegateEvents.apply(this,e),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var e=new Error("Cannot use a view thats already been destroyed.");throw e.name="ViewDestroyedError",e}},destroy:function(){if(this.isDestroyed)return;var e=s.call(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove(),this},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),i.ItemView=i.View.extend({constructor:function(){i.View.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=n.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&(e={items:n.partial(this.serializeCollection,this.collection).apply(this,arguments)}),e},serializeCollection:function(e){return e.toJSON.apply(e,s.call(arguments,1))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e===!1)return;e||o("Cannot render the template since it is null or undefined.","UndefinedTemplateError");var t=this.serializeData();t=this.mixinTemplateHelpers(t);var n=i.Renderer.render(e,t,this);return this.attachElContent(n),this},attachElContent:function(e){return this.$el.html(e),this},destroy:function(){if(this.isDestroyed)return;return i.View.prototype.destroy.apply(this,arguments)}}),i.CollectionView=i.View.extend({childViewEventPrefix:"childview",constructor:function(e){var t=e||{};this.sort=n.isUndefined(t.sort)?!0:t.sort,this._initChildViewStorage(),i.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e){this.destroyEmptyView();var t=this.getChildView(e),n=this.collection.indexOf(e);this.addChild(e,t,n)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var e=this.collection.find(function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this);e&&this.resortView()},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var r=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(r)&&(r=r.call(this));var i=this.buildChildView(e,t,r);this._isShown&&this.triggerMethod.call(i,"before:show"),this.children.add(i),this.renderChildView(i,-1),this._isShown&&this.triggerMethod.call(i,"show")},getChildView:function(e){var t=this.getOption("childView");return t||o('A "childView" must be specified',"NoChildViewError"),t},addChild:function(e,t,r){var i=this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this,e,r));var s=this.buildChildView(e,t,i);return this._updateIndices(s,!0,r),this._addChildView(s,r),s},_updateIndices:function(e,t,n){if(!this.sort)return;t?(e._index=n,this.children.each(function(t){t._index>=e._index&&t._index++})):this.children.each(function(t){t._index>=e._index&&t._index--})},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&(n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")),this.triggerMethod("add:child",e)},renderChildView:function(e,t){return e.render(),this.attachHtml(this,e,t),e},buildChildView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeChildView:function(e){return e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1)),e},isEmpty:function(e){return!this.collection||this.collection.length===0},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,r=this.sort&&t<this.children.length-1;return r&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){if(this.isDestroyed)return;return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),i.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var e=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),e},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var r=s.call(arguments),i=r[0],o=this.normalizeMethods(n.result(this,"childEvents"));r[0]=t+":"+i,r.splice(1,0,e),typeof o!="undefined"&&n.isFunction(o[i])&&o[i].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)},this)}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(e){var t=this.getOption("childView")||this.constructor;return t||o('A "childView" must be specified',"NoChildViewError"),t},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&i.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=i.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;var t,r=i.getOption(e,"childViewContainer");if(r){var s=n.isFunction(r)?r.call(e):r;s.charAt(0)==="@"&&e.ui?t=e.ui[s.substr(4)]:t=e.$(s),t.length<=0&&o('The specified "childViewContainer" was not found: '+e.childViewContainer,"ChildViewContainerMissingError")}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),i.LayoutView=i.ItemView.extend({regionClass:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),i.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(e,t){this.triggerMethod("before:region:add",e);var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return this.triggerMethod("before:region:remove",e),delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t=this,n={regionClass:this.getOption("regionClass"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{};var r=this.getOption.call(e,"regions");n.isFunction(r)&&(r=r.call(this,e)),n.extend(t,r),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(e){e.reset()})},getRegionManager:function(){return new i.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})}}),i.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),n.extend=i.extend,n}(n,t),i.Behaviors=function(e,t){function n(e,i){i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,t.keys(r))}var r={setElement:function(e,n){return e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el,e.el=this.el},this),this},destroy:function(e,n){var r=t.tail(arguments,2);return e.apply(this,r),t.invoke(n,"destroy",r),this},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.each(n,function(t){e.apply(t,r)})},delegateEvents:function(n,r){var i=t.tail(arguments,2);return n.apply(this,i),t.each(r,function(t){e.bindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this),this},undelegateEvents:function(n,r){var i=t.tail(arguments,2);return n.apply(this,i),t.each(r,function(t){e.unbindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this),this},behaviorEvents:function(n,r){var i={},s=t.result(this,"ui");return t.each(r,function(n,r){var o={},u=t.clone(t.result(n,"events"))||{},a=t.result(n,"ui"),f=t.extend({},s,a);u=e.normalizeUIKeys(u,f),t.each(t.keys(u),function(e){var i=(new Array(r+2)).join(" "),s=e+i,a=t.isFunction(u[e])?u[e]:n[u[e]];o[s]=t.bind(a,n)}),i=t.extend(i,o)}),i}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,r){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[r]:n.behaviorsLookup[r]},parseBehaviors:function(e,r){return t.chain(r).map(function(r,i){var s=n.getBehaviorClass(r,i),o=new s(r,e),u=n.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(u)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(r[i],e[i],n)})}}),n}(i,n),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.apply(this,arguments),this.options=e||{};var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var r=n.invert(this.getOption("appRoutes"))[e];n.isFunction(this.onRoute)&&this.onRoute(e,r,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,r){var i=e[r];i||o('Method "'+r+'" was not found on the controller'),this.route(t,r,n.bind(i,e))},getOption:i.proxyGetOption}),i.Application=function(e){this._initializeRegions(e),this._initCallbacks=new i.Callbacks,this.submodules={},n.extend(this,e),this._initChannel()},n.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var n=i.Module.getClass(t),r=s.call(arguments);return r.unshift(this),n.create.apply(n,r)},getRegionManager:function(){return new i.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var r=i.getOption(e,"regions");return n.isFunction(r)&&(r=r.call(this,e)),n.extend(t,r),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this.listenTo(this._regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this._regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this._regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption}),i.Application.extend=i.extend,i.Module=function(e,t,r){this.moduleName=e,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,this.triggerMethod("before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(!e)return;var s=n.flatten([this,this.app,t,i,t.$,n,r]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks},triggerMethod:i.triggerMethod}),n.extend(i.Module,{create:function(e,t,r){var i=e,o=s.call(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var s=i;i=this._getModule(s,t,e,r),this._addModuleDefinition(s,i,a[n],o)},this),i},_getModule:function(e,t,r,i,s){var o=n.extend({},i),u=this.getClass(i),a=e[t];return a||(a=new u(t,r,o),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,r){var i=this._getDefine(n),s=this._getStartWithParent(n,t);i&&t.addDefinition(i,r),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var r;return n.isFunction(e)&&e.prototype instanceof i.Module?(r=t.constructor.prototype.startWithParent,n.isUndefined(r)?!0:r):n.isObject(e)?(r=e.startWithParent,n.isUndefined(r)?!0:r):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof i.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n;if(!t.startWithParent||!!t.startWithParentIsConfigured)return;t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)})}}),i}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.12",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("tpl",["underscore","text"],function(e,t){var n={},r={version:"0.1.0",load:function(r,i,s,o){var u=function(t){t=e.template(t),o.isBuild?t=n[r]=t.source:t=(new Function("obj","return "+t.source))(),s(t)};t.load(r,i,u,o)},write:function(e,t,r){n.hasOwnProperty(t)&&r('define("'+e+"!"+t+'", ["underscore"], function(_) { '+"return "+n[t]+";"+"});\n")}};return r}),define("tpl!apps/calculator/templates/calculator_layout.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="logo--default kite__item" alt="freehold.com.mt logo"></div>\n<div></div>\n<div class="calculator-type kite__item">\n</div>\n<div></div>\n<div class="container--public kite__item">\n	<div id=\'fh-form\'></div>\n</div>\n<div id=\'calculator--summary\'></div>';return __p}}),define("tpl!apps/calculator/templates/calculator_stats_layout.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="totalInterest" class="calculator-guage kite__item"></div>\n<div id="totalPrincipal" class="calculator-guage kite__item"></div>\n<div id="yearlyInterest" class="calculator-guage kite__item"></div>\n<div id="yearlyPrincipal" class="calculator-guage kite__item"></div>';return __p}}),function(e,t){e.utility={toMonth:function(e){if(e>=0&&e<=11){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]}return null}},typeof String.prototype.endsWith!="function"&&(String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1}),typeof String.prototype.commafy!="function"&&(String.prototype.commafy=function(){var e=this.toString().split(".");return e[0].length>=5&&(e[0]=e[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),e[1]&&e[1].length>=5&&(e[1]=e[1].replace(/(\d{3})/g,"$1 ")),e.join(".")}),typeof String.prototype.uncommafy!="function"&&(String.prototype.uncommafy=function(){return this.replace(new RegExp(",| ","g"),"")}),typeof Date.prototype.addMonths!="function"&&(Date.prototype.addMonths=function(e){return new Date((new Date(this)).setMonth(this.getMonth()+e))}),typeof Date.prototype.getMonthName!="function"&&(Date.prototype.getMonthName=function(){return e.utility.toMonth(this.getMonth())})}(window,$),define("utils/utility",function(){}),function(e){typeof define=="function"&&define.amd?define("jquery.knob",["jquery"],e):e(jQuery)}(function(e){var t={},n=Math.max,r=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(e,t){var r;for(r in t)n.o[r]=t[r];n._carve().init(),n._configure()._draw()};if(this.$.data("kontroled"))return;this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||this.$.attr("readonly")==="readonly",cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw",this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var r=e(this);n.i[t]=r,n.v[t]=n.o.parse(r.val()),r.bind("change blur",function(){var e={};e[t]=r.val(),n.val(n._validate(e))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),this.v===""&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+"px;"+'"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),this.scale!==1&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;n.g=n.c,n.clear(),n.dH&&(e=n.dH()),e!==!1&&n.draw()},this._touch=function(e){var r=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===!1)return;n.change(n._validate(t)),n._draw()};return this.t=t.c.t(e),r(e),t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(e){var r=function(e){var t=n.xy2val(e.pageX,e.pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===!1)return;n.change(n._validate(t)),n._draw()};return r(e),t.c.d.bind("mousemove.k",r).bind("keyup.k",function(e){if(e.keyCode===27){t.c.d.unbind("mouseup.k mousemove.k keyup.k");if(n.eH&&n.eH()===!1)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),n._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){var t=~~((e<0?-0.5:.5)+e/this.o.step)*this.o.step;return Math.round(t*100)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var n;return e=e.substring(1,7),n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"},this.copy=function(e,t){for(var n in e)t[n]=e[n]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){if(null==e)return this.v;e=this.o.parse(e);if(t!==!1&&e!=this.v&&this.rH&&this.rH(e)===!1)return;this.cv=this.o.stopper?n(r(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw()},this.xy2val=function(e,t){var i,s;return i=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(i=this.angleArc-i-this.PI2),this.angleArc!=this.PI2&&i<0&&i>-0.5?i=0:i<0&&(i+=this.PI2),s=i*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(s=n(r(s,this.o.max),this.o.min)),s},this.listen=function(){var t=this,i,s,o=function(e){e.preventDefault();var o=e.originalEvent,u=o.detail||o.wheelDeltaX,a=o.detail||o.wheelDeltaY,f=t._validate(t.o.parse(t.$.val()))+(u>0||a>0?t.o.step:u<0||a<0?-t.o.step:0);f=n(r(f,t.o.max),t.o.min),t.val(f,!1),t.rH&&(clearTimeout(i),i=setTimeout(function(){t.rH(f),i=null},100),s||(s=setTimeout(function(){i&&t.rH(f),s=null},200)))},u,a,f=1,l={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(i){var s=i.keyCode;s>=96&&s<=105&&(s=i.keyCode=s-48),u=parseInt(String.fromCharCode(s));if(isNaN(u)){s!==13&&s!==8&&s!==9&&s!==189&&(s!==190||t.$.val().match(/\./))&&i.preventDefault();if(e.inArray(s,[37,38,39,40])>-1){i.preventDefault();var o=t.o.parse(t.$.val())+l[s]*f;t.o.stopper&&(o=n(r(o,t.o.max),t.o.min)),t.change(t._validate(o)),t._draw(),a=window.setTimeout(function(){f*=2},30)}}}).bind("keyup",function(e){isNaN(u)?a&&(window.clearTimeout(a),a=null,f=1,t.val(t.$.val())):t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",o),this.$.bind("mousewheel DOMMouseScroll",o)},this.init=function(){if(this.v<this.o.min||this.v>this.o.max)this.v=this.o.min;this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t,n;return e=this.angle(e),this.o.flip?(t=this.endAngle+1e-5,n=t-e-1e-5):(t=this.startAngle-1e-5,n=t+e+1e-5),this.o.cursor&&(t=n-this.cursorExt)&&(n+=this.cursorExt),{s:t,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e=this.g,t=this.arc(this.cv),n,r=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,this.o.bgColor!=="none"&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(n=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke(),r=this.cv==this.v),e.beginPath(),e.strokeStyle=r?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(n){return this.each(function(){var r=new t.Dial;r.o=n,r.$=e(this),r.run()}).parent()}}),define("behaviors/guage",["marionette","utils/utility","jquery.knob"],function(e){var t=function(e){var t=e.targetVal-e.currentVal,n=t>=0?100:-100;return t=Math.abs(t),{divisor:n,increment:t}};return GuageBehavior=e.Behavior.extend({ui:{guageYear:"h3",guagePercentage:".dial",guageValue:".calculator-gagueValue"},onChangeGuagePercentage:function(e){e.currentVal=this.view.model.get("guagePercentage");var n=t(e);$(this.ui.guagePercentage).animate({value:100},{duration:10*n.increment,easing:"swing",progress:function(t,r){var i=Math.round(r*100),s=Math.round(i/n.divisor*n.increment);$(this).val(e.currentVal+s).trigger("change")}}),this.view.model.set("guagePercentage",e.targetVal)},onChangeGuageValue:function(e){e.currentVal=this.view.model.get("guageValue");var n=t(e);$(this.ui.guageValue).animate({value:100},{duration:1e3,easing:"swing",progress:function(t,r){var i=Math.round(r*100),s=Math.round(i/n.divisor*n.increment);$(this).text("€"+(e.currentVal+s).toString().commafy())}}),this.view.model.set("guageValue",e.targetVal)},onChangeYear:function(e){$(this.ui.guageYear).text(this.view.model.get("guageTitle")+" "+e)},onChangeGuage:function(e){this.view.triggerMethod("changeGuageValue",{targetVal:Math.ceil(e.value)}),this.view.triggerMethod("changeGuagePercentage",{targetVal:Math.ceil(e.percentage)})},onShow:function(){$(this.ui.guagePercentage).knob({readOnly:!0,width:"100%",thickness:".3",inputColor:"rgb(164, 183, 215)",fgColor:"rgb(164, 183, 215)",bgColor:"rgb(226, 236, 255)",draw:function(){$(this.i).val(this.cv+"%")}})},onBeforeDestroy:function(){$.removeData($(this.ui.guagePercentage)),$(this.ui.guagePercentage).off(),$(this.ui.guagePercentage).unbind(),$(this.ui.guagePercentage).remove()}}),GuageBehavior}),define("tpl!components/guage/templates/guage.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<h3>"+((__t=guageTitle)==null?"":_.escape(__t))+'</h3>\n<div class="calculator-guageContainer">\n	<input type="text" class="dial" data-min="0" data-max="100" value=0>\n</div>\n<div class="calculator-gagueValue">'+((__t=guageValue)==null?"":_.escape(__t))+"</div>\n";return __p}}),define("components/guage/guage",["app","behaviors/guage","tpl!components/guage/templates/guage.tpl"],function(e,t,n){return e.module("Widgets",function(e,t,r,i,s,o){e.Guage=i.ItemView.extend({tagName:"div",template:n,behaviors:{GuageBehavior:{}}})}),e.Widgets.Guage}),define("components/guage/guage_model",["app"],function(e){return e.module("Widgets",function(e,t,n,r,i,s){e.GuageModel=n.Model.extend({defaults:{guageTitle:null,guagePercentage:0,guageValue:0}})}),e.Widgets.GuageModel}),define("apps/calculator/calculator_stats_layout",["marionette","backbone.babysitter","tpl!apps/calculator/templates/calculator_stats_layout.tpl","app","apps/calculator/calculator","components/guage/guage","components/guage/guage_model","behaviors/guage","jquery.knob"],function(e,t,n,r){var i=e.LayoutView.extend({tagName:"div",template:n,className:"calculator-guages kite kite--center",regions:{totalInterest:"#totalInterest",totalPrincipal:"#totalPrincipal",yearlyInterest:"#yearlyInterest",yearlyPrincipal:"#yearlyPrincipal"},recieve:{calculatorStatsUpdate:function(){return{event:"calculator:stats:update",channel:r.Calculator.channel.vent}}},initialize:function(){this.viewContainer=new Backbone.ChildViewContainer,this.viewContainer.add(new r.Widgets.Guage({model:new r.Widgets.GuageModel({guageTitle:"Total Interest Paid",guagePercentage:0,guageValue:0})}),"totalInterest"),this.viewContainer.add(new r.Widgets.Guage({model:new r.Widgets.GuageModel({guageTitle:"Total Principal Paid",guagePercentage:0,guageValue:0})}),"totalPrincipal"),this.viewContainer.add(new r.Widgets.Guage({model:new r.Widgets.GuageModel({guageTitle:"Interest Paid",guagePercentage:0,guageValue:0})}),"yearlyInterest"),this.viewContainer.add(new r.Widgets.Guage({model:new r.Widgets.GuageModel({guageTitle:"Princripal Paid",guagePercentage:0,guageValue:0})}),"yearlyPrincipal")},onRender:function(){this.totalInterest.show(this.viewContainer.findByCustom("totalInterest")),this.totalPrincipal.show(this.viewContainer.findByCustom("totalPrincipal")),this.yearlyInterest.show(this.viewContainer.findByCustom("yearlyInterest")),this.yearlyPrincipal.show(this.viewContainer.findByCustom("yearlyPrincipal")),this.listenTo(this.recieve.calculatorStatsUpdate().channel,this.recieve.calculatorStatsUpdate().event,function(e){this.viewContainer.findByCustom("totalInterest").triggerMethod("changeGuage",{value:Math.round(e.totalInterest),percentage:Math.round(100/(e.totalPrincipal+e.totalInterest)*e.totalInterest)}),this.viewContainer.findByCustom("totalPrincipal").triggerMethod("changeGuage",{value:Math.round(e.totalPrincipal),percentage:Math.round(100/(e.totalPrincipal+e.totalInterest)*e.totalPrincipal)}),this.viewContainer.findByCustom("yearlyInterest").triggerMethod("changeGuage",{value:Math.round(e.yearlyInterest),percentage:Math.round(100/(e.yearlyPrincipal+e.yearlyInterest)*e.yearlyInterest)}),this.viewContainer.findByCustom("yearlyInterest").triggerMethod("changeYear",e.year),this.viewContainer.findByCustom("yearlyPrincipal").triggerMethod("changeGuage",{value:Math.round(e.yearlyPrincipal),percentage:Math.round(100/(e.yearlyPrincipal+e.yearlyInterest)*e.yearlyPrincipal)}),this.viewContainer.findByCustom("yearlyPrincipal").triggerMethod("changeYear",e.year),$(window).trigger("resize")}.bind(this))}});return i}),define("tpl!apps/calculator/templates/calculator_year_view.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="kite kite--middle kite--justify">\n	<div class="calculator-previousYear kite__item js-previousYear">\n		<\n	</div>\n	<div class="calculator-yearStats kite__item">\n		<h2></h2>\n		<h3></h3>\n	</div>\n	<div class="calculator-nextYear kite__item js-nextYear">\n		>\n	</div>\n</div>';return __p}}),define("apps/calculator/calculator_year_view",["marionette","tpl!apps/calculator/templates/calculator_year_view.tpl","app","apps/calculator/calculator","utils/utility"],function(e,t,n){var r=e.ItemView.extend({tagName:"div",template:t,className:"calculator-yearContainer kite__item",ui:{year:".calculator-yearStats h2",paymentLeft:".calculator-yearStats h3",nextYear:".js-nextYear",previousYear:".js-previousYear"},events:{"mousedown @ui.slider":"onSliderDrag","click @ui.nextYear":"onNext","click @ui.previousYear":"onPrevious"},recieve:{calculatorPaginatorUpdate:function(){return{event:"calculator:paginator:update",channel:n.Calculator.channel.commands}},calculatorStatsUpdate:function(){return{event:"calculator:stats:update",channel:n.Calculator.channel.vent}}},initialize:function(){this.options.currentYear=(new Date).getFullYear();var e=this.recieve.calculatorPaginatorUpdate();e.channel.setHandler(e.event,function(e){this.injectValues(e.year,e.totalPrincipalLeft)}.bind(this));var e=this.recieve.calculatorStatsUpdate();this.listenTo(e.channel,e.event,function(e){this.injectValues(e.year,e.totalPrincipalLeft)}.bind(this))},injectValues:function(e,t){this.options.year=e,$(this.ui.year).text(e),this.options.paymentLeft=t,$(this.ui.paymentLeft).text("€"+Math.round(t).toString().commafy())},onNext:function(){require(["apps/calculator/calculator_controller"],function(e){e.showYearlyStats(null,this.options.year+1)}.bind(this))},onPrevious:function(){this.options.year-1>=this.options.currentYear&&require(["apps/calculator/calculator_controller"],function(e){e.showYearlyStats(null,this.options.year-1)}.bind(this))}});return r}),function(e){define("highcharts",["jquery"],function(){return function(){return function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function n(e,t){return parseInt(e,t||10)}function r(e){return typeof e=="string"}function i(e){return e&&typeof e=="object"}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){return typeof e=="number"}function u(e){return I.log(e)/I.LN10}function a(e){return I.pow(10,e)}function f(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==B&&e!==null}function c(e,t,n){var s,o;if(r(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(l(t)&&i(t))for(s in t)e.setAttribute(s,t[s]);return o}function h(e){return s(e)?e:[e]}function p(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==B&&n!==null)return n}function d(t,n){Y&&!it&&n&&n.opacity!==B&&(n.filter="alpha(opacity="+n.opacity*100+")"),e(t.style,n)}function v(t,n,r,i,s){return t=j.createElement(t),n&&e(t,n),s&&d(t,{padding:0,border:St,margin:0}),r&&d(t,r),i&&i.appendChild(t),t}function m(t,n){var r=function(){return B};return r.prototype=new t,e(r.prototype,n),r}function g(e,t,r,i){var s=qt.numberFormat,o=ht.lang,u=+e||0,a=t===-1?(u.toString().split(".")[1]||"").length:isNaN(t=X(t))?2:t,f=r===void 0?o.decimalPoint:r,o=i===void 0?o.thousandsSep:i,l=u<0?"-":"",c=String(n(u=X(u).toFixed(a))),h=c.length>3?c.length%3:0;return s!==g?s(e,t,r,i):l+(h?c.substr(0,h)+o:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?f+X(u-c).toFixed(a).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}}function w(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=ht.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i!==null&&(i=g(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:""))):i=pt(s,i))}f.push(i),e=e.slice(n+1),n=(r=!r)?"}":"{"}return f.push(e),f.join("")}function E(e){return I.pow(10,R(I.log(e)/I.LN10))}function S(e,t,n,r){var i,n=p(n,1);i=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2)break;return e*=n,e}function x(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function T(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function N(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function C(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){ct||(ct=v(Et)),e&&ct.appendChild(e),ct.innerHTML=""}function L(e){return parseFloat(e.toPrecision(14))}function A(e,t){dt=p(e,t.animation)}function O(){var e=ht.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Nt=ht.global.Date||window.Date,kt=(e&&ht.global.timezoneOffset||0)*6e4,Ct=e?Nt.UTC:function(e,t,n,r,i,s){return(new Nt(e,t,p(n,1),p(r,0),p(i,0),p(s,0))).getTime()},Lt=t+"Minutes",At=t+"Hours",Ot=t+"Day",Mt=t+"Date",_t=t+"Month",Dt=t+"FullYear",Pt=n+"Minutes",Ht=n+"Hours",Bt=n+"Date",jt=n+"Month",Ft=n+"FullYear"}function M(){}function _(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function D(){this.init.apply(this,arguments)}function P(){this.init.apply(this,arguments)}function H(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:p(t.y,s?4:n?14:-6),x:p(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var B,j=document,F=window,I=Math,q=I.round,R=I.floor,U=I.ceil,z=I.max,W=I.min,X=I.abs,V=I.cos,$=I.sin,J=I.PI,K=J*2/360,Q=navigator.userAgent,G=F.opera,Y=/msie/i.test(Q)&&!G,Z=j.documentMode===8,et=/AppleWebKit/.test(Q),tt=/Firefox/.test(Q),nt=/(Mobile|Android|Windows Phone)/.test(Q),rt="http://www.w3.org/2000/svg",it=!!j.createElementNS&&!!j.createElementNS(rt,"svg").createSVGRect,st=tt&&parseInt(Q.split("Firefox/")[1],10)<4,ot=!it&&!Y&&!!j.createElement("canvas").getContext,ut,at,ft={},lt=0,ct,ht,pt,dt,vt,mt,gt,yt=function(){return B},bt=[],wt=0,Et="div",St="none",xt=/^[0-9]+$/,Tt="stroke-width",Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It={},qt;F.Highcharts?gt(16,!0):qt=F.Highcharts={},pt=function(t,n,r){if(!l(n)||isNaN(n))return"Invalid date";var t=p(t,"%Y-%m-%d %H:%M:%S"),i=new Nt(n-kt),s,o=i[At](),u=i[Ot](),a=i[Mt](),f=i[_t](),c=i[Dt](),h=ht.lang,d=h.weekdays,i=e({a:d[u].substr(0,3),A:d[u],d:y(a),e:a,b:h.shortMonths[f],B:h.months[f],m:y(f+1),y:c.toString().substr(2,2),Y:c,H:y(o),I:y(o%12||12),l:o%12||12,M:y(i[Lt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:y(i.getSeconds()),L:y(q(n%1e3),3)},qt.dateFormats);for(s in i)for(;t.indexOf("%"+s)!==-1;)t=t.replace("%"+s,typeof i[s]=="function"?i[s](n):i[s]);return r?t.substr(0,1).toUpperCase()+t.substr(1):t},gt=function(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;F.console&&console.log(n)},mt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},vt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(t){F.HighchartsAdapter=F.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,r){var i=n.step,s;r==="cur"?i=n.prototype:r==="_default"&&t.Tween&&(i=t.Tween.propHooks[r],r="set"),(s=i[r])&&(i[r]=function(t){var n,t=e?t:this;if(t.prop!=="align")return n=t.elem,n.attr?n.attr(t.prop,r==="cur"?B:t.now):s.apply(this,arguments)})}),b(t.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(t){var n=t.elem,r;t.started||(r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},t.fn.highcharts=function(){var e="Chart",t=arguments,n,i;return this[0]&&(r(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==B&&(n.chart=n.chart||{},n.chart.renderTo=this[0],new qt[e](n,t[1]),i=this),n===B&&(i=bt[c(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,n){t.Tween?t.Tween.propHooks[e]={set:n}:t.fx.step[e]=n},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=j.removeEventListener?"removeEventListener":"detachEvent";j[i]&&e&&!e[i]&&(e[i]=function(){}),t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!Y&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),e(o,i),n[r]&&(n[u]=n[r],n[r]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){t==="preventDefault"&&(a=!0)}}}),t(n).trigger(o),n[u]&&(n[r]=n[u],n[u]=null),s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===B&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,r){var i=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),i.stop(),n.opacity!==B&&e.attr&&(n.opacity+="px"),e.hasAnim=1,i.animate(n,r)},stop:function(e){e.hasAnim&&t(e).stop()}}}(F.jQuery);var Rt=F.HighchartsAdapter,Ut=Rt||{};Rt&&Rt.init.call(Rt,vt);var zt=Ut.adapterRun,Wt=Ut.getScript,Xt=Ut.inArray,Vt=Ut.each,$t=Ut.grep,Jt=Ut.offset,Kt=Ut.map,Qt=Ut.addEvent,Gt=Ut.removeEvent,Yt=Ut.fireEvent,Zt=Ut.washMouseEvent,en=Ut.animate,tn=Ut.stop,Ut={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};ht={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Ut,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":g(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:it,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">â—</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:nt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var nn=ht.plotOptions,Rt=nn.line;O();var rn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,sn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,on=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,un=function(e){var r=[],i,s;return function(e){e&&e.stops?s=Kt(e.stops,function(e){return un(e[1])}):(i=rn.exec(e))?r=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=sn.exec(e))?r=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=on.exec(e))&&(r=[n(i[1]),n(i[2]),n(i[3]),1])}(e),{get:function(n){var i;return s?(i=t(e),i.stops=[].concat(i.stops),Vt(s,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=r&&!isNaN(r[0])?n==="rgb"?"rgb("+r[0]+","+r[1]+","+r[2]+")":n==="a"?r[3]:"rgba("+r.join(",")+")":e,i},brighten:function(e){if(s)Vt(s,function(t){t.brighten(e)});else if(o(e)&&e!==0){var t;for(t=0;t<3;t++)r[t]+=n(e*255),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this}}};M.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(e,t){this.element=t==="span"?v(t):j.createElementNS(rt,t),this.renderer=e},animate:function(e,n,r){return n=p(n,dt,!0),tn(this),n?(n=t(n,{}),r&&(n.complete=r),en(this,e,n)):(this.attr(e),r&&r()),this},colorGradient:function(e,n,r){var i=this.renderer,o,u,a,f,c,h,p,d,v,m,g=[];e.linearGradient?u="linearGradient":e.radialGradient&&(u="radialGradient");if(u){a=e[u],f=i.gradients,h=e.stops,v=r.radialReference,s(a)&&(e[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&v&&!l(a.gradientUnits)&&(a=t(a,{cx:v[0]-v[2]/2+a.cx*v[2],cy:v[1]-v[2]/2+a.cy*v[2],r:a.r*v[2],gradientUnits:"userSpaceOnUse"}));for(m in a)m!=="id"&&g.push(m,a[m]);for(m in h)g.push(h[m]);g=g.join(","),f[g]?e=f[g].attr("id"):(a.id=e="highcharts-"+lt++,f[g]=c=i.createElement(u).attr(a).add(i.defs),c.stops=[],Vt(h,function(e){e[1].indexOf("rgba")===0?(o=un(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1),e=i.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(c),c.stops.push(e)})),r.setAttribute(n,"url("+i.url+"#"+e+")")}},attr:function(e,t){var n,r,i=this.element,s,o=this,u;typeof e=="string"&&t!==B&&(n=e,e={},e[n]=t);if(typeof e=="string")o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(n in e)r=e[n],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(e),s=!0),u=!0),this.rotation&&(n==="x"||n==="y")&&(this.doTransform=!0),u||(this[n+"Setter"]||this._defaultSetter).call(this,r,n,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,r);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,e==="height"?z(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=c(t,"class")||"";return n.indexOf(e)===-1&&c(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;Vt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":St)},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=q(i)%2/2,e.x=R(e.x||this.x||0)+r,e.y=R(e.y||this.y||0)+r,e.width=R((e.width||this.width||0)-2*r),e.height=R((e.height||this.height||0)-2*r),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(t){var r=this.styles,i={},s=this.element,o,u,a="";o=!r,t&&t.color&&(t.fill=t.color);if(r)for(u in t)t[u]!==r[u]&&(i[u]=t[u],o=!0);if(o){o=this.textWidth=t&&t.width&&s.nodeName.toLowerCase()==="text"&&n(t.width),r&&(t=e(r,i)),this.styles=t,o&&(ot||!it&&this.renderer.forExport)&&delete t.width;if(Y&&!it)d(this.element,t);else{r=function(e,t){return"-"+t.toLowerCase()};for(u in t)a+=u.replace(/([A-Z])/g,r)+":"+t[u]+";";c(s,"style",a)}o&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return at&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=Nt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(Q.indexOf("Android")===-1||Nt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(l(n)||l(r))&&e.push("scale("+p(n,1)+" "+p(r,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,s,o,u,a={};s=this.renderer,o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!n||r(n))this.alignTo=i=n||"renderer",f(o,this),o.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;n=p(n,s[i],s),i=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(i==="right"||i==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[i];a[t?"translateX":"x"]=q(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=q(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i,s=this.rotation;r=this.element;var o=this.styles,u=s*K;i=this.textStr;var a;if(i===""||xt.test(i))a="num."+i.toString().length+(o?"|"+o.fontSize+"|"+o.fontFamily:"");a&&(t=n.cache[a]);if(!t){if(r.namespaceURI===rt||n.forExport){try{t=r.getBBox?e({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(f){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,Y&&o&&o.fontSize==="11px"&&i.toPrecision(3)==="16.9"&&(t.height=i=14),s&&(t.width=X(i*$(u))+X(r*V(u)),t.height=X(i*V(u))+X(r*$(u)))),this.bBox=t,a&&(n.cache[a]=t)}return t},show:function(e){return e&&this.element.namespaceURI===rt?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,r=e||t,i=r.element||t.box,s=this.element,o=this.zIndex,u,a;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),o&&(r.handleZ=!0,o=n(o));if(r.handleZ){e=i.childNodes;for(u=0;u<e.length;u++)if(t=e[u],r=c(t,"zIndex"),t!==s&&(n(r)>o||!l(o)&&l(r))){i.insertBefore(s,t),a=!0;break}}return a||i.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,tn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&Vt(n,function(t){e.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&f(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=p(e.width,3),f=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,c(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:St}),n&&(c(s,"height",z(c(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=p(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=e.length;t--;)e[t]=n(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=j.createElementNS(rt,"title"),this.element.appendChild(t)),t.textContent=p(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},M.prototype.yGetter=M.prototype.xGetter,M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.rotationSetter=M.prototype.verticalAlignSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],M.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var an=function(){this.init.apply(this,arguments)};an.prototype={Element:M,init:function(e,t,n,r,i){var s=location,o,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=r.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&c(o,"xmlns",rt),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(tt||et)&&j.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(j.createTextNode("Created with Highcharts 4.0.4")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.cache={},this.setSize(t,n,!1);var u;tt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){d(e,{left:0,top:0}),u=e.getBoundingClientRect(),d(e,{left:U(u.left)-u.left+"px",top:U(u.top)-u.top+"px"})},t(),Qt(F,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Gt(F,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,r=this,i=r.forExport,s=p(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u=t.childNodes,a,f,l=c(t,"x"),h=e.styles,v=e.textWidth,m=h&&h.lineHeight,g=h&&h.HcTextStroke,y=u.length,b=function(e){return m?n(m):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};y--;)t.removeChild(u[y]);!o&&!g&&s.indexOf(" ")===-1?t.appendChild(j.createTextNode(s)):(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,v&&!e.added&&this.box.appendChild(t),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],s[s.length-1]===""&&s.pop(),Vt(s,function(n,s){var o,u=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=n.split("|||"),Vt(o,function(n){if(n!==""||o.length===1){var p={},m=j.createElementNS(rt,"tspan"),g;a.test(n)&&(g=n.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(m,"style",g)),f.test(n)&&!i&&(c(m,"onclick",'location.href="'+n.match(f)[1]+'"'),d(m,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(n!==" "){m.appendChild(j.createTextNode(n)),u?p.dx=0:s&&l!==null&&(p.x=l),c(m,p),t.appendChild(m),!u&&s&&(!it&&i&&d(m,{display:"block"}),c(m,"dy",b(m)));if(v)for(var n=n.replace(/([^\^])-/g,"$1- ").split(" "),p=o.length>1||n.length>1&&h.whiteSpace!=="nowrap",y,w,E=h.HcHeight,S=[],x=b(m),T=1;p&&(n.length||S.length);)delete e.bBox,y=e.getBBox(),w=y.width,!it&&r.forExport&&(w=r.measureSpanWidth(m.firstChild.data,e.styles)),y=w>v,!y||n.length===1?(n=S,S=[],n.length&&(T++,E&&T*x>E?(n=["..."],e.attr("title",e.textStr)):(m=j.createElementNS(rt,"tspan"),c(m,{dy:x,x:l}),g&&c(m,"style",g),t.appendChild(m))),w>v&&(v=w)):(m.removeChild(m.firstChild),S.unshift(n.pop())),n.length&&m.appendChild(j.createTextNode(n.join(" ").replace(/- /g,"-")));u++}}})}))},button:function(n,r,i,s,o,u,a,f,l){var c=this.label(n,r,i,l,null,null,null,null,"button"),h=0,p,d,v,m,g,y,n={x1:0,y1:0,x2:0,y2:1},o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return v=o.style,delete o.style,u=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},u),m=u.style,delete u.style,a=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),g=a.style,delete a.style,f=t(o,{style:{color:"#CCC"}},f),y=f.style,delete f.style,Qt(c.element,Y?"mouseover":"mouseenter",function(){h!==3&&c.attr(u).css(m)}),Qt(c.element,Y?"mouseout":"mouseleave",function(){h!==3&&(p=[o,u,a][h],d=[v,m,g][h],c.attr(p).css(d))}),c.setState=function(e){(c.state=h=e)?e===2?c.attr(a).css(g):e===3&&c.attr(f).css(y):c.attr(o).css(v)},c.on("click",function(){h!==3&&s.call(c)}).attr(o).css(e({cursor:"default"},v))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=q(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=q(e[2])+t%2/2),e},path:function(t){var n={fill:St};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=i(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,r,s,o){return i(e)&&(t=e.y,n=e.r,r=e.innerR,s=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:s||0,end:o||0}),e.r=n,e},rect:function(e,t,n,r,s,o){var s=i(e)?e.r:s,u=this.createElement("rect"),e=i(e)?e:e===B?{}:{x:e,y:t,width:z(n,0),height:z(r,0)};return o!==B&&(e.strokeWidth=o,e=u.crisp(e)),s&&(e.r=s),u.rSetter=function(e){c(this.element,{rx:e,ry:e})},u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:St};return arguments.length>1&&e(o,{x:n,y:r,width:i,height:s}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(q(n),q(r),i,s,o),f=/^url\((.*?)\)$/,l,c;return a?(u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o)):f.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(q((i-t[0])/2),q((s-t[1])/2)))},l=t.match(f)[1],t=ft[l]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(l).attr({x:n,y:r}),u.isImg=!0,t?c(u,t):(u.attr({width:0,height:0}),v("img",{onload:function(){c(u,ft[l]=[this.width,this.height])},src:l}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=V(s),f=$(s),l=V(o),o=$(o),i=i.end-s<J?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=W(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,a=i&&i.anchorY,i=q(i.strokeWidth||0)%2/2;return e+=i,t+=i,i=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t],u&&u>n&&a>t+o&&a<t+r-o?i.splice(13,3,"L",e+n,a-6,e+n+6,a,e+n,a+6,e+n,t+r-s):u&&u<0&&a>t+o&&a<t+r-o?i.splice(33,3,"L",e,a+6,e-6,a,e,a-6,e,t+s):a&&a>r&&u>e+o&&u<e+n-o?i.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):a&&a<0&&u>e+o&&u<e+n-o&&i.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t),i}},clipRect:function(e,t,n,r){var i="highcharts-"+lt++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e},text:function(e,t,n,r){var i=ot||!it&&this.forExport,s={};if(r&&!this.forExport)return this.html(e,t,n);s.x=Math.round(t||0),n&&(s.y=Math.round(n));if(e||e===0)s.text=e;return e=this.createElement("text").attr(s),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&F.getComputedStyle&&(t=t.element||t,e=F.getComputedStyle(t,"").fontSize);var e=/px/.test(e)?n(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+4:q(e*1.2),i=q(r*.8);return{h:r,b:i,f:e}},label:function(n,r,i,s,o,u,a,f,c){function h(){var t,n;t=g.element.style,b=(x===void 0||T===void 0||m.styles.textAlign)&&g.textStr&&g.getBBox(),m.width=(x||b.width||0)+2*E+S,m.height=(T||b.height||0)+2*E,A=E+v.fontMetrics(t&&t.fontSize,g).b,O&&(y||(t=q(-w*E),n=f?-A:0,m.box=y=s?v.symbol(s,t,n,m.width,m.height,L):v.rect(t,n,m.width,m.height,0,L[Tt]),y.attr("fill",St).add(m)),y.isImg||y.attr(e({width:q(m.width),height:q(m.height)},L)),L=null)}function p(){var e=m.styles,e=e&&e.textAlign,t=S+E*(1-w),n;n=f?0:A,l(x)&&b&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(x-b.width));if(t!==g.x||n!==g.y)g.attr("x",t),n!==B&&g.attr("y",n);g.x=t,g.y=n}function d(e,t){y?y.attr(e,t):L[e]=t}var v=this,m=v.g(c),g=v.text("",0,0,a).attr({zIndex:1}),y,b,w=0,E=3,S=0,x,T,N,C,k=0,L={},A,O;m.onAdd=function(){g.add(m),m.attr({text:n||n===0?n:"",x:r,y:i}),y&&l(o)&&m.attr({anchorX:o,anchorY:u})},m.widthSetter=function(e){x=e},m.heightSetter=function(e){T=e},m.paddingSetter=function(e){l(e)&&e!==E&&(E=e,p())},m.paddingLeftSetter=function(e){l(e)&&e!==S&&(S=e,p())},m.alignSetter=function(e){w={left:0,center:.5,right:1}[e]},m.textSetter=function(e){e!==B&&g.textSetter(e),h(),p()},m["stroke-widthSetter"]=function(e,t){e&&(O=!0),k=e%2/2,d(t,e)},m.strokeSetter=m.fillSetter=m.rSetter=function(e,t){t==="fill"&&e&&(O=!0),d(t,e)},m.anchorXSetter=function(e,t){o=e,d(t,e+k-N)},m.anchorYSetter=function(e,t){u=e,d(t,e-C)},m.xSetter=function(e){m.x=e,w&&(e-=w*((x||b.width)+E)),N=q(e),m.attr("translateX",N)},m.ySetter=function(e){C=m.y=q(e),m.attr("translateY",C)};var _=m.css;return e(m,{css:function(e){if(e){var n={},e=t(e);Vt(m.textProps,function(t){e[t]!==B&&(n[t]=e[t],delete e[t])}),g.css(n)}return _.call(m,e)},getBBox:function(){return{width:b.width+2*E,height:b.height+2*E,x:b.x-E,y:b.y-E}},shadow:function(e){return y&&y.shadow(e),m},destroy:function(){Gt(m.element,"mouseenter"),Gt(m.element,"mouseleave"),g&&(g=g.destroy()),y&&(y=y.destroy()),M.prototype.destroy.call(m),m=v=h=p=d=null}})}},ut=an,e(M.prototype,{htmlCss:function(t){var n=this.element;if(n=t&&n.tagName==="SPAN"&&t.width)delete t.width,this.textWidth=n,this.updateTransform();return this.styles=e(this.styles,t),d(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||(e.nodeName==="text"&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=this.shadows;d(t,{marginLeft:r,marginTop:i}),f&&Vt(f,function(e){d(e,{marginLeft:r+1,marginTop:i+1})}),this.inverted&&Vt(t.childNodes,function(n){e.invertChild(n,t)});if(t.tagName==="SPAN"){var c=this.rotation,h,v=n(this.textWidth),m=[c,u,t.innerHTML,this.textWidth].join(",");m!==this.cTT&&(h=e.fontMetrics(t.style.fontSize).b,l(c)&&this.setSpanRotation(c,a,h),f=p(this.elemWidth,t.offsetWidth),f>v&&/[ \-]/.test(t.textContent||t.innerText)&&(d(t,{width:v+"px",display:"block",whiteSpace:"normal"}),f=v),this.getSpanCorrection(f,h,a,c,u)),d(t,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),et&&(h=t.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=Y?"-ms-transform":et?"-webkit-transform":tt?"MozTransform":G?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(tt?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",d(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),e(an.prototype,{html:function(t,n,r){var i=this.createElement("span"),s=i.element,o=i.renderer;return i.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e},i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),i[t]=e,i.htmlUpdateTransform()},i.attr({text:t,x:q(n),y:q(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.css=i.htmlCss,o.isSVG&&(i.add=function(t){var n,r=o.box.parentNode,u=[];if(this.parentGroup=t){if(n=t.div,!n){for(;t;)u.push(t),t=t.parentGroup;Vt(u.reverse(),function(t){var i;n=t.div=t.div||v(Et,{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r),i=n.style,e(t,{translateXSetter:function(e,n){i.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px",t[n]=e,t.doTransform=!0},visibilitySetter:function(e,t){i[t]=e}})})}}else n=r;return n.appendChild(s),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var fn;if(!it&&!ot){fn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===Et;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=v(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:M.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=V(e*K),n=$(e*K);d(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):St})},getSpanCorrection:function(e,t,n,r,i){var s=r?V(r*K):1,o=r?$(r*K):0,u=p(this.elemHeight,this.element.offsetHeight),a;this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),i&&i!=="left"&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),d(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)if(o(e[t]))n[t]=q(e[t]*10)-5;else if(e[t]==="Z")n[t]="x";else if(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at"))n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1);return n.join(" ")||"x"},clip:function(e){var t=this,n;return e?(n=e.members,f(n,t),n.push(t),t.destroyClip=function(){f(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:Z?"inherit":"rect(auto)"}),t.css(e)},css:M.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&k(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),M.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=F.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=n(e[r-2])-10*t;return e.join(" ")},shadow:function(e,t,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,m,g;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){m=p(e.width,3),g=(e.opacity||.15)/m;for(s=1;s<=3;s++)h=m*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=v(u.prepVML(l),null,{left:n(f.left)+p(e.offsetX,1),top:n(f.top)+p(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',g*s,'"/>'],v(u.prepVML(l),null,null,a),t?t.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this},updateShadows:yt,setAttr:function(e,t){Z?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||v(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==St,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:yt,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-q($(e*K)+1)+"px",n.top=q(V(e*K))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,o(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e="visible"),this.shadows&&Vt(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e==="hidden"?"-999em":0,Z||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},qt.VMLElement=fn=m(M,fn),fn.prototype.ySetter=fn.prototype.widthSetter=fn.prototype.heightSetter=fn.prototype.xSetter;var ln={Element:fn,isIE8:Q.indexOf("MSIE 8.0")>-1,init:function(t,n,r,i){var s;this.alignedObjects=[],i=this.createElement(Et).css(e(this.getStyle(i),{position:"relative"})),s=i.element,t.appendChild(i.element),this.isVML=!0,this.box=s,this.boxWrapper=i,this.cache={},this.setSize(n,r,!1);if(!j.namespaces.hcv){j.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{j.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){j.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,r,s){var o=this.createElement(),u=i(t);return e(o,{members:[],left:(u?t.x:t)+1,top:(u?t.y:n)+1,width:(u?t.width:r)-1,height:(u?t.height:s)-1,getCSS:function(t){var n=t.element,r=n.nodeName,t=t.inverted,i=this.top-(r==="shape"?n.offsetTop:0),s=this.left,n=s+this.width,o=i+this.height,i={clip:"rect("+q(t?s:i)+"px,"+q(t?o:n)+"px,"+q(t?n:o)+"px,"+q(t?i:s)+"px)"};return!t&&Z&&r==="DIV"&&e(i,{width:n+"px",height:o+"px"}),i},updateClipping:function(){Vt(o.members,function(e){e.element&&e.css(o.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=St;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,p,d,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',d,'" type="',a,'" ',b,'focus="100%" method="any" />'],v(i.prepVML(u),null,null,t)};p=e[0],w=e[e.length-1],p[0]>0&&e.unshift([0,p[1]]),w[0]<1&&e.push([1,w[1]]),Vt(e,function(e,t){o.test(e[1])?(s=un(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(d=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-I.atan((h-e)/(p-n))*180/J)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+ht.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():r.onAdd=f,f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=un(e),u=["<",n,' opacity="',s.get("a"),'"/>'],v(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1,f[0].type="solid"),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:an.prototype.html,path:function(t){var n={coordsize:"10 10"};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){var r=this.symbol("circle");return i(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Et).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):an.prototype.createElement.call(this,e)},invertChild:function(e,t){var r=this,i=t.style,s=e.tagName==="IMG"&&e.style;d(e,{flip:"x",left:n(i.width)-(s?n(s.top):1),top:n(i.height)-(s?n(s.left):1),rotation:-90}),Vt(e.childNodes,function(t){r.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=V(s),a=$(s),f=V(o),l=$(o);return o-s===0?["x"]:(s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l],i.open&&!n&&s.push("e","M",e,t),s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e"),s.isArc=!0,s)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return an.prototype.symbols[!l(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};qt.VMLRenderer=fn=function(){this.init.apply(this,arguments)},fn.prototype=t(an.prototype,ln),ut=fn}an.prototype.measureSpanWidth=function(e,t){var n=j.createElement("span"),r;return r=j.createTextNode(e),n.appendChild(r),d(n,t),this.box.appendChild(n),r=n.offsetWidth,k(n),r};var cn;ot&&(qt.CanVGRenderer=fn=function(){rt="http://www.w3.org/1999/xhtml"},fn.prototype.symbols={},cn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Wt(r,e),t.push(n)}}}(),ut=fn),_.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,u=t.names,f=this.pos,c=n.labels,h=c.rotation,d=t.tickPositions,i=i&&s&&!c.step&&!c.staggerLines&&!c.rotation&&r.plotWidth/d.length||!i&&(r.margin[3]||r.chartWidth*.33),v=f===d[0],m=f===d[d.length-1],g,u=s?p(s[f],u[f],f):f,s=this.label,y=d.info;t.isDatetimeAxis&&y&&(g=n.dateTimeLabelFormats[y.higherRanks[f]||y.unitName]),this.isFirst=v,this.isLast=m,n=t.labelFormatter.call({axis:t,chart:r,isFirst:v,isLast:m,dateTimeLabelFormat:g,value:t.isLog?L(a(u)):u}),f=i&&{width:z(1,q(i-2*(c.padding||10)))+"px"},l(s)?s&&s.attr({text:n}).css(f):(g={align:t.labelAlign},o(h)&&(g.rotation=h),i&&c.ellipsis&&(f.HcHeight=t.len/d.length),this.label=s=l(n)&&c.enabled?r.renderer.text(n,0,0,c.useHTML).attr(g).css(e(f,c.style)).add(t.labelGroup):null,t.tickBaseline=r.renderer.fontMetrics(c.style.fontSize,s).b,h&&t.side===2&&(t.tickBaseline*=V(h*K))),this.yOffset=s?p(c.y,t.tickBaseline+(t.side===2?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options.labels,e=n?e.width:e.height,t=n?r.x-e*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,n?e+t:e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=this.isFirst,s=this.isLast,o=r.horiz?t.x:t.y,u=r.reversed,a=r.tickPositions,f=this.getLabelSides(),l=f[0],f=f[1],c,h,p,d=this.label.line;c=d||0,h=r.labelEdge,p=r.justifyLabels&&(i||s),h[c]===B||o+l>h[c]?h[c]=o+f:p||(n=!1);if(p){c=(h=r.justifyToPlot)?r.pos:0,h=h?c+r.len:r.chart.chartWidth;do e+=i?1:-1,p=r.ticks[a[e]];while(a[e]&&(!p||!p.label||p.label.line!==d));r=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[i?0:1],i&&!u||s&&u?o+l<c&&(o=c-l,p&&o+f>r&&(n=!1)):o+f>h&&(o=h-f,p&&o+l<r&&(n=!1)),t.x=o}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines,e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0);return c&&(n.line=o/(u||1)%c,t+=n.line*(a.labelOffset/c)),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",d=u?u+"Tick":"tick",v=i[h+"LineWidth"],m=i[h+"LineColor"],g=i[h+"LineDashStyle"],y=i[d+"Length"],h=i[d+"Width"]||0,b=i[d+"Color"],w=i[d+"Position"],d=this.mark,E=l.step,S=!0,x=r.tickmarkOffset,T=this.getPosition(o,f,x,t),N=T.x,T=T.y,C=o&&N===r.pos+r.len||!o&&T===r.pos?-1:1,n=p(n,1);this.isActive=!0,v&&(f=r.getPlotLinePath(f+x,v*C,t,!0),c===B&&(c={stroke:m,"stroke-width":v},g&&(c.dashstyle=g),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=v?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f&&c[this.isNew?"attr":"animate"]({d:f,opacity:n})),h&&y&&(w==="inside"&&(y=-y),r.opposite&&(y=-y),u=this.getMarkPath(N,T,y,h*C,o,s),d?d.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:b,"stroke-width":h,opacity:n}).add(r.axisGroup)),a&&!isNaN(N)&&(a.xy=T=this.getLabelPosition(N,T,a,o,l,x,e,E),this.isFirst&&!this.isLast&&!p(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(i.showLastLabel,1)?S=!1:!r.isRadial&&!l.step&&!l.rotation&&!t&&n!==0&&(S=this.handleOverflow(e,T)),E&&e%E&&(S=!1),S&&!isNaN(T.y)?(T.opacity=n,a[this.isNew?"attr":"animate"](T),this.isNew=!1):a.attr("y",-9999))},destroy:function(){C(this,this.axis)}},qt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},qt.PlotLineOrBand.prototype={render:function(){var e=this,n=e.axis,r=n.horiz,i=(n.pointRange||0)/2,s=e.options,o=s.label,a=e.label,f=s.width,c=s.to,h=s.from,p=l(h)&&l(c),d=s.value,v=s.dashStyle,m=e.svgElem,g=[],y,b=s.color,w=s.zIndex,E=s.events,S={},x=n.chart.renderer;n.isLog&&(h=u(h),c=u(c),d=u(d));if(f){if(g=n.getPlotLinePath(d,f),S={stroke:b,"stroke-width":f},v)S.dashstyle=v}else{if(!p)return;h=z(h,n.min-i),c=W(c,n.max+i),g=n.getPlotBandPath(h,c,s),b&&(S.fill=b),s.borderWidth&&(S.stroke=s.borderColor,S["stroke-width"]=s.borderWidth)}l(w)&&(S.zIndex=w);if(m){if(g)m.animate({d:g},null,m.onGetPath);else if(m.hide(),m.onGetPath=function(){m.show()},a)e.label=a=a.destroy()}else if(g&&g.length&&(e.svgElem=m=x.path(g).attr(S).add(),E))for(y in i=function(t){m.on(t,function(n){E[t].apply(e,[n])})},E)i(y);return o&&l(o.text)&&g&&g.length&&n.width>0&&n.height>0?(o=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},o),a||(S={align:o.textAlign||o.align,rotation:o.rotation},l(w)&&(S.zIndex=w),e.label=a=x.text(o.text,0,0,o.useHTML).attr(S).css(o.style).add()),n=[g[1],g[4],p?g[6]:g[1]],p=[g[2],g[5],p?g[7]:g[2]],g=T(n),r=T(p),a.align(o,!1,{x:g,y:r,width:N(n)-g,height:N(p)-r}),a.show()):a&&a.hide(),e},destroy:function(){f(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}},D.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ut,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return g(this.total,-1)},style:Ut.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=r.reversed,this.zoomEnabled=r.zoomEnabled!==!1,this.categories=r.categories||i==="category",this.names=[],this.isLog=i==="logarithmic",this.isDatetimeAxis=i==="datetime",this.isLinked=l(r.linkedTo),this.tickmarkOffset=this.categories&&r.tickmarkPlacement==="between"&&p(r.tickInterval,1)===1?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=p(r.crosshair,h(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;Xt(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===B&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Qt(this,s,r[s]);this.isLog&&(this.val2lin=u,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(ht[this.coll],e))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=ht.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=w(u,this);else if(n)o=t;else if(r)o=pt(r,t);else if(s&&e>=1e3)for(;s--&&o===B;)n=Math.pow(1e3,s+1),e>=n&&i[s]!==null&&(o=g(t/n,-1)+i[s]);return o===B&&(o=X(t)>=1e4?g(t,0):g(t,-1,B,"")),o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),Vt(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r;r=n.options.threshold;var i;e.hasVisibleSeries=!0,e.isLog&&r<=0&&(r=null);if(e.isXAxis){if(r=n.xData,r.length)e.dataMin=W(p(e.dataMin,r[0]),T(r)),e.dataMax=z(p(e.dataMax,r[0]),N(r))}else n.getExtremes(),i=n.dataMax,n=n.dataMin,l(n)&&l(i)&&(e.dataMin=W(p(e.dataMin,n),n),e.dataMax=z(p(e.dataMax,i),i)),l(r)&&(e.dataMin>=r?(e.dataMin=r,e.ignoreMinPadding=!0):e.dataMax<r&&(e.dataMax=r,e.ignoreMaxPadding=!0))}})},translate:function(e,t,n,r,i,s){var u=1,a=0,f=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,l=this.minPixelPadding,i=(this.options.ordinal||this.isLog&&i)&&this.lin2val;return f||(f=this.transA),n&&(u*=-1,a=this.len),this.reversed&&(u*=-1,a-=u*(this.sector||this.len)),t?(e=e*u+a,e-=l,e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),s==="between"&&(s=.5),e=u*(e-r)*f+a+u*l+(o(s)?f*s*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB,i=p(i,this.translate(e,null,null,n)),e=n=q(i+a),a=f=q(l-i-a);if(isNaN(i))h=!0;else if(this.horiz){if(a=u,f=l-this.bottom,e<o||e>o+this.width)h=!0}else if(e=o,n=c-this.right,a<u||a>u+this.height)h=!0;return h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=L(R(t/e)*e),s=L(U(n/e)*e),u=[];if(t===n&&o(t))return[t];for(t=i;t<=s;){u.push(t),t=L(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i;if(this.isLog){i=t.length;for(e=1;e<i;e++)r=r.concat(this.getLogTickPositions(n,t[e-1],t[e],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,e.startOfWeek)),r[0]<this.min&&r.shift();else for(t=this.min+(t[0]-this.min)%n;t<=this.max;t+=n)r.push(t);return r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;this.isXAxis&&this.minRange===B&&!this.isLog&&(l(e.min)||l(e.max)?this.minRange=null:(Vt(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===B||u<s)s=u}),this.minRange=W(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2,r=[t-r,p(e.min,t-r)],i&&(r[2]=this.dataMin),t=N(r),n=[t+c,p(e.max,t+c)],i&&(n[2]=this.dataMax),n=T(n),n-t<c&&(r[0]=n-c,r[1]=p(e.min,n-c),t=N(r))}this.min=t,this.max=n},setAxisTranslation:function(e){var t=this,n=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,f=!!t.categories,c=t.transA;if(t.isXAxis||f||i)a?(o=a.minPointOffset,u=a.pointRangePadding):Vt(t.series,function(e){var a=f?1:t.isXAxis?e.pointRange:t.axisPointRange||0,c=e.options.pointPlacement,h=e.closestPointRange;a>n&&(a=0),i=z(i,a),o=z(o,r(c)?0:a/2),u=z(u,c==="on"?0:a),!e.noSharedTooltip&&l(h)&&(s=l(s)?W(s,h):h)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=W(i,n),t.closestPointRange=s;e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(n+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*o},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,a=t.isLog,f=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,d=t.options.tickPositioner,v=r.maxPadding,m=r.minPadding,g=r.tickInterval,y=r.minTickInterval,b=r.tickPixelInterval,w,x=t.categories;h?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&gt(11,1)):(t.min=p(t.userMin,r.min,t.dataMin),t.max=p(t.userMax,r.max,t.dataMax)),a&&(!e&&W(t.min,p(t.dataMin,t.min))<=0&&gt(10,1),t.min=L(u(t.min)),t.max=L(u(t.max))),t.range&&l(t.max)&&(t.userMin=t.min=z(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!x&&!t.axisPointRange&&!t.usePercentage&&!h&&l(t.min)&&l(t.max)&&(n=t.max-t.min)&&(!l(r.min)&&!l(t.userMin)&&m&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*m),!l(r.max)&&!l(t.userMax)&&v&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*v)),o(r.floor)&&(t.min=z(t.min,r.floor)),o(r.ceiling)&&(t.max=W(t.max,r.ceiling)),t.min===t.max||t.min===void 0||t.max===void 0?t.tickInterval=1:h&&!g&&b===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=p(g,x?1:(t.max-t.min)*b/z(t.len,b)),!l(g)&&t.len<b&&!this.isRadial&&!this.isLog&&!x&&i&&s&&(w=!0,t.tickInterval/=4)),c&&!e&&Vt(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=z(t.pointRange,t.tickInterval)),!g&&t.tickInterval<y&&(t.tickInterval=y),!f&&!a&&!g&&(t.tickInterval=S(t.tickInterval,null,E(t.tickInterval),p(r.allowDecimals,!(t.tickInterval>1&&t.tickInterval<5&&t.max>1e3&&t.max<9999)))),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=e=r.tickPositions?[].concat(r.tickPositions):d&&d.apply(t,[t.min,t.max]),e||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>z(2*t.len,200)&&gt(19,!0),e=f?t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):a?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),w&&e.splice(1,e.length-2),t.tickPositions=e),h||(r=e[0],a=e[e.length-1],f=t.minPointOffset||0,i?t.min=r:t.min-f>r&&e.shift(),s?t.max=a:t.max+f<a&&e.pop(),e.length===0&&l(r)&&e.push((a+r)/2),e.length===1&&(i=X(t.max)>1e13?1:.001,t.min-=i,t.max+=i))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==B){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(L(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1),this.max=t[t.length-1]}l(r)&&e!==r&&(this.isDirty=!0)}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,Vt(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].total=null,e[t][n].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart,r=p(r,!0),s=e(s,{min:t,max:n});Yt(o,"setExtremes",s,function(){o.userMin=t,o.userMax=n,o.eventArgs=s,o.isDirtyExtremes=!0,r&&u.redraw(i)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options;return this.allowZoomOutside||(l(n)&&e<=W(n,p(i.min,n))&&(e=B),l(r)&&t>=z(r,p(i.max,r))&&(t=B)),this.displayBtn=e!==B||t!==B,this.setExtremes(e,t,!1,B,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=p(t.width,e.plotWidth-n+(t.offsetRight||0)),s=p(t.height,e.plotHeight),o=p(t.top,e.plotTop),t=p(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseInt(s,10)/100*e.plotHeight),n.test(o)&&(o=parseInt(o,10)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=i,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-i-t,this.len=z(r?i:s,0),this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?L(a(this.min)):this.min,max:e?L(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?a(this.min):this.min,t=t?a(this.max):this.max;return n>e||e===null?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(p(e,0)-this.side*90+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,f,c,h=0,d,v=0,m=r.title,g=r.labels,y=0,b=t.axisOffset,t=t.clipOffset,w=[-1,1,1,-1][u],E,S=1,x=p(g.maxStaggerLines,5),T,N,C,k,L;e.hasData=f=e.hasVisibleSeries||l(e.min)&&l(e.max)&&!!i,e.showAxis=c=f||p(r.showEmpty,!0),e.staggerLines=e.horiz&&g.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add());if(f||e.isLinked){e.labelAlign=p(g.align||e.autoLabelAlign(g.rotation)),Vt(i,function(t){s[t]?s[t].addLabel():s[t]=new _(e,t)});if(e.horiz&&!e.staggerLines&&x&&!g.rotation){for(f=e.reversed?[].concat(i).reverse():i;S<x;){T=[],N=!1;for(E=0;E<f.length;E++)C=f[E],k=(k=s[C].label&&s[C].label.getBBox())?k.width:0,L=E%S,k&&(C=e.translate(C),T[L]!==B&&C<T[L]&&(N=!0),T[L]=C+k);if(!N)break;S++}S>1&&(e.staggerLines=S)}Vt(i,function(t){if(u===0||u===2||{1:"left",3:"right"}[u]===e.labelAlign)y=z(s[t].getLabelSize(),y)}),e.staggerLines&&(y*=e.staggerLines,e.labelOffset=y)}else for(E in s)s[E].destroy(),delete s[E];m&&m.text&&m.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],d=m.offset,v=l(d)?0:p(m.margin,o?5:10)),e.axisTitle[c?"show":"hide"]()),e.offset=w*p(r.offset,b[u]),n=u===2?e.tickBaseline:0,o=y+v+(y&&w*(o?p(g.y,e.tickBaseline+8):g.x)-n),e.axisTitleMargin=p(d,o),b[u]=z(b[u],e.axisTitleMargin+h+w*e.offset,o),t[a]=z(t[a],R(r.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,r=this.top,i=this.len,s=this.options.title,o=e?t:r,u=this.opposite,a=this.offset,f=n(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?r+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.horiz,n=e.reversed,r=e.chart,i=r.renderer,s=e.options,o=e.isLog,u=e.isLinked,f=e.tickPositions,c,h=e.axisTitle,p=e.ticks,d=e.minorTicks,v=e.alternateBands,m=s.stackLabels,g=s.alternateGridColor,y=e.tickmarkOffset,b=s.lineWidth,w=r.hasRendered&&l(e.oldMin)&&!isNaN(e.oldMin),E=e.hasData,S=e.showAxis,x,T=s.labels.overflow,N=e.justifyLabels=t&&T!==!1,C;e.labelEdge.length=0,e.justifyToPlot=T==="justify",Vt([p,d,v],function(e){for(var t in e)e[t].isActive=!1});if(E||u)if(e.minorTickInterval&&!e.categories&&Vt(e.getMinorTickPositions(),function(t){d[t]||(d[t]=new _(e,t,"minor")),w&&d[t].isNew&&d[t].render(null,!0),d[t].render(null,!1,1)}),f.length&&(c=f.slice(),(t&&n||!t&&!n)&&c.reverse(),N&&(c=c.slice(1).concat([c[0]])),Vt(c,function(t,n){N&&(n=n===c.length-1?0:n+1);if(!u||t>=e.min&&t<=e.max)p[t]||(p[t]=new _(e,t)),w&&p[t].isNew&&p[t].render(n,!0,.1),p[t].render(n)}),y&&e.min===0&&(p[-1]||(p[-1]=new _(e,-1,null,!0)),p[-1].render(-1))),g&&Vt(f,function(t,n){n%2===0&&t<e.max&&(v[t]||(v[t]=new qt.PlotLineOrBand(e)),x=t+y,C=f[n+1]!==B?f[n+1]+y:e.max,v[t].options={from:o?a(x):x,to:o?a(C):C,color:g},v[t].render(),v[t].isActive=!0)}),!e._addedPlotLB)Vt((s.plotLines||[]).concat(s.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0;Vt([p,d,v],function(e){var t,n,i=[],s=dt?dt.duration||500:0,o=function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===v||!r.hasRendered||!s?o():s&&setTimeout(o,s)}),b&&(t=e.getLinePath(b),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=i.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(e.axisGroup),e.axisLine[S?"show":"hide"]()),h&&S&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),m&&m.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),Vt(this.plotLinesAndBands,function(e){e.render()}),Vt(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||Gt(t);for(r in n)C(n[r]),n[r]=null;Vt([t.ticks,t.minorTicks,t.alternateBands],function(e){C(e)});for(e=i.length;e--;)i[e].destroy();Vt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if((l(t)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var n,r=this.crosshair,i=r.animation;p(r.snap,!0)?l(t)&&(n=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:p(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,n),n===null?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i):(i={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(D.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new qt.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();Vt([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&f(t,t[i])})}}),D.prototype.getTimeTicks=function(t,n,r,i){var s=[],o={},u=ht.global.useUTC,a,f=new Nt(n-kt),c=t.unitRange,h=t.count;if(l(n)){c>=mt.second&&(f.setMilliseconds(0),f.setSeconds(c>=mt.minute?0:h*R(f.getSeconds()/h))),c>=mt.minute&&f[Pt](c>=mt.hour?0:h*R(f[Lt]()/h)),c>=mt.hour&&f[Ht](c>=mt.day?0:h*R(f[At]()/h)),c>=mt.day&&f[Bt](c>=mt.month?1:h*R(f[Mt]()/h)),c>=mt.month&&(f[jt](c>=mt.year?0:h*R(f[_t]()/h)),a=f[Dt]()),c>=mt.year&&(a-=a%h,f[Ft](a)),c===mt.week&&f[Bt](f[Mt]()-f[Ot]()+p(i,1)),n=1,kt&&(f=new Nt(f.getTime()+kt)),a=f[Dt]();for(var i=f.getTime(),d=f[_t](),v=f[Mt](),m=(mt.day+(u?kt:f.getTimezoneOffset()*6e4))%mt.day;i<r;)s.push(i),c===mt.year?i=Ct(a+n*h,0):c===mt.month?i=Ct(a,d+n*h):!!u||c!==mt.day&&c!==mt.week?i+=c*h:i=Ct(a,d,v+n*h*(c===mt.day?1:7)),n++;s.push(i),Vt($t(s,function(e){return c<=mt.hour&&e%mt.day===m}),function(e){o[e]="day"})}return s.info=e(t,{higherRanks:o,totalRange:c*h}),s},D.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=mt[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=mt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+mt[n[o+1][0]])/2)break;return i===mt.year&&e<5*i&&(s=[1,2,5]),n=S(e/i,s,r[0]==="year"?z(E(e/i),1):1),{unitRange:i,count:n,unitName:r[0]}},D.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,o=[];r||(this._minorAutoInterval=null);if(e>=.5)e=q(e),o=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=R(t),f,l,c,h,d,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!d;s++){l=i.length;for(f=0;f<l&&!d;f++)c=u(a(s)*i[f]),c>t&&(!r||h<=n)&&h!==B&&o.push(h),h>n&&(d=!0),h=c}else if(t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=p(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=S(e,null,E(e)),o=Kt(this.getLinearTickPositions(e,t,n),u),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),o};var hn=qt.Tooltip=function(){this.init.apply(this,arguments)};hn.prototype={init:function(e,t){var r=t.borderWidth,i=t.style,s=n(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),ot||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(X(t-o.x)>1||X(n-o.y)>1),a=s.followPointer||s.len>1;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?B:u?(2*o.anchorX+r)/3:r,anchorY:a?B:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer),this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(e,this.options.hideDelay,500)),n&&Vt(n,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=0,u=0,a,e=h(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===B&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||(Vt(e,function(e){a=e.series.yAxis,o+=e.plotX,u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&a?a.top-s:0)}),o/=e.length,u/=e.length,n=[i?r.plotWidth-u:o,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-o:u]),Kt(n,q)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=n.ttBelow||r.inverted&&!n.negative||!r.inverted&&n.negative,l=function(e,t,n,r){var o=n<r-i,t=r+i+n<t,n=r-i-n;r+=i;if(f&&t)s[e]=r;else if(!f&&o)s[e]=n;else if(o)s[e]=n;else{if(!t)return!1;s[e]=r}},c=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},h=function(e){var t=u;u=a,a=t,o=e},p=function(){l.apply(0,u)!==!1?c.apply(0,a)===!1&&!o&&(h(!0),p()):o?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(e){var t=this.points||h(this),n=t[0].series,r;return r=[e.tooltipHeaderFormatter(t[0])],Vt(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u={},a,f=[];a=i.formatter||this.defaultFormatter;var u=n.hoverPoints,l,c=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(e)[0].series.tooltipOptions.followPointer,o=this.getAnchor(e,t),s=o[0],o=o[1],c&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,u&&Vt(u,function(e){e.setState()}),Vt(e,function(e){e.setState("hover"),f.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=f,this.len=f.length,e=e[0]):u=e.getLabelConfig(),a=a.call(u,this),u=e.series,this.distance=p(u.tooltipOptions.distance,16),a===!1?this.hide():(this.isHidden&&(tn(r),r.attr("opacity",1).show()),r.attr({text:a}),l=i.borderColor||e.color||u.color||"#606060",r.attr({stroke:l}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),Yt(n,"tooltipRefresh",{text:a,x:s+n.plotLeft,y:o+n.plotTop,borderColor:l})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(q(n.x),q(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,u=s&&s.options.type==="datetime"&&o(e.key),n=n.headerFormat,s=s&&s.closestPointRange,a;if(u&&!i){if(s){for(a in mt)if(mt[a]>=s||mt[a]<=mt.day&&e.key%mt[a]>0){i=r[a];break}}else i=r.day;i=i||r.year}return u&&i&&(n=n.replace("{point.key}","{point.key:"+i+"}")),w(n,{point:e,series:t})}};var pn;at=j.documentElement.ontouchstart!==B;var dn=qt.Pointer=function(e,t){this.init(e,t)};dn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=ot?"":n.zoomType,n=e.inverted,s;this.options=t,this.chart=e,this.zoomX=s=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=s&&!n||i&&n,this.zoomVert=i&&!n||s&&n,this.hasZoom=s||i,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},qt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new hn(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,n){var r,i,t=t||window.event,t=Zt(t);return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=Jt(this.chart.container)),i.pageX===B?(r=z(t.x,t.clientX-n.left),i=t.y):(r=i.pageX-n.left,i=i.pageY-n.top),e(t,{chartX:q(r),chartY:q(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Vt(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s,o=t.hoverPoint,u=t.hoverSeries,a,f,l=t.chartWidth,c=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!u||!u.noSharedTooltip)){s=[],a=n.length;for(f=0;f<a;f++)n[f].visible&&n[f].options.enableMouseTracking!==!1&&!n[f].noSharedTooltip&&n[f].singularTooltips!==!0&&n[f].tooltipPoints.length&&(i=n[f].tooltipPoints[c])&&i.series&&(i._dist=X(c-i.clientX),l=W(l,i._dist),s.push(i));for(a=s.length;a--;)s[a]._dist>l&&s.splice(a,1);s.length&&s[0].clientX!==this.hoverX&&(r.refresh(s,e),this.hoverX=s[0].clientX)}n=u&&u.tooltipOptions.followPointer,u&&u.tracker&&!n?(i=u.tooltipPoints[c])&&i!==o&&i.onMouseOver(e):r&&n&&!r.isHidden&&(u=r.getAnchor([{}],e),r.updatePosition({plotX:u[0],plotY:u[1]})),r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){bt[pn]&&bt[pn].pointer.onDocumentMouseMove(e)},Qt(j,"mousemove",this._onDocumentMouseMove)),Vt(t.axes,function(t){t.drawCrosshair(e,p(i,o))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.tooltip,o=s&&s.shared?n.hoverPoints:i;(e=e&&s&&o)&&h(o)[0].plotX===B&&(e=!1),e?(s.refresh(o),i&&i.setState(i.state,!0)):(i&&i.onMouseOut(),r&&r.onMouseOut(),s&&s.hide(t),this._onDocumentMouseMove&&(Gt(j,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Vt(n.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(e,t){var n=this.chart,r;Vt(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.mouseDownX,p=this.mouseDownY,d=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+l&&(i=a+l),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-i,2)),this.hasDragged>10&&(c=t.isInsidePlot(h-u,p-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!d&&!this.selectionMarker&&(this.selectionMarker=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(r-=h,this.selectionMarker.attr({width:X(r),x:(r>0?0:r)+h})),this.selectionMarker&&o&&(r=i-p,this.selectionMarker.attr({height:X(r),y:(r>0?0:r)+p})),c&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(t){var n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,f=s.attr?s.attr("height"):s.height,l;if(this.hasDragged||r)Vt(n.axes,function(e){if(e.zoomEnabled){var n=e.horiz,r=t.type==="touchend"?e.minPixelPadding:0,s=e.toValue((n?o:u)+r),n=e.toValue((n?o+a:u+f)-r);!isNaN(s)&&!isNaN(n)&&(i[e.coll].push({axis:e,min:W(s,n),max:z(s,n)}),l=!0)}}),l&&Yt(n,"selection",i,function(t){n.zoom(e(t,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(d(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){bt[pn]&&bt[pn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries,e=this.normalize(e,n);n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=bt[pn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;pn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=c(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&n!==t&&t.onMouseOut()},onContainerClick:function(t){var n=this.chart,r=n.hoverPoint,i=n.plotLeft,s=n.plotTop,t=this.normalize(t);t.cancelBubble=!0,n.cancelClick||(r&&this.inClass(t.target,"highcharts-tracker")?(Yt(r.series,"click",e(t,{point:r})),n.hoverPoint&&r.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),n.isInsidePlot(t.chartX-i,t.chartY-s)&&Yt(n,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Qt(t,"mouseleave",e.onContainerMouseLeave),wt===1&&Qt(j,"mouseup",e.onDocumentMouseUp),at&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},wt===1&&Qt(j,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Gt(this.chart.container,"mouseleave",this.onContainerMouseLeave),wt||(Gt(j,"mouseup",this.onDocumentMouseUp),Gt(j,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},e(qt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=t.length===1,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T,n=function(){!b&&X(w-S)>20&&(m=u||X(E-x)/X(w-S)),v=(p-E)/m+w,d=a["plot"+(e?"Width":"Height")]/m};n(),t=v,t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0),T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x],g||(s[f]=v-p,s[h]=d),s=g?1/m:m,i[h]=d,i[f]=t,r[g?e?"scaleY":"scaleX":"scale"+l]=m,r["translate"+l]=s*p+(E-s*w)},pinch:function(t){var n=this,r=n.chart,i=n.pinchDown,s=n.followTouchMove,o=t.touches,u=o.length,a=n.lastValidTouch,f=n.hasZoom,l=n.selectionMarker,c={},h=u===1&&(n.inClass(t.target,"highcharts-tracker")&&r.runTrackerClick||n.runChartClick),d={};(f||s)&&!h&&t.preventDefault(),Kt(o,function(e){return n.normalize(e)}),t.type==="touchstart"?(Vt(o,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],Vt(r.axes,function(e){if(e.zoomEnabled){var t=r.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(p(e.options.min,e.dataMin)),s=e.toPixels(p(e.options.max,e.dataMax)),o=W(i,s),i=z(i,s);t.min=W(e.pos,o-n),t.max=z(e.pos+e.len,i+n)}}),n.res=!0):i.length&&(l||(n.selectionMarker=l=e({destroy:yt},r.plotBox)),n.pinchTranslate(i,o,c,l,d,a),n.hasPinched=f,n.scaleGroups(c,d),!f&&s&&u===1?this.runPointActions(n.normalize(t)):n.res&&(n.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;pn=t.index,e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){bt[pn]&&bt[pn].pointer.drop(e)}});if(F.PointerEvent||F.MSPointerEvent){var vn={},mn=!!F.PointerEvent,gn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in vn)vn.hasOwnProperty(e)&&t.push({pageX:vn[e].pageX,pageY:vn[e].pageY,target:vn[e].target});return t},yn=function(e,t,n,r){e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&bt[pn]&&(r(e),r=bt[pn].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:yt,touches:gn()}))};e(dn.prototype,{onContainerPointerDown:function(e){yn(e,"onContainerTouchStart","touchstart",function(e){vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){yn(e,"onContainerTouchMove","touchmove",function(e){vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},vn[e.pointerId].target||(vn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){yn(e,"onContainerTouchEnd","touchend",function(e){delete vn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,mn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,mn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(j,mn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),b(dn.prototype,"init",function(e,t,n){e.call(this,t,n),(this.hasZoom||this.followTouchMove)&&d(t.container,{"-ms-touch-action":St,"touch-action":St})}),b(dn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Qt)}),b(dn.prototype,"destroy",function(e){this.batchMSEvents(Gt),e.call(this)})}var bn=qt.Legend=function(e,t){this.init(e,t)};bn.prototype={init:function(e,n){var r=this,i=n.itemStyle,s=p(n.padding,8),o=n.itemMarginTop||0;this.options=n,n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=t(i,n.itemHiddenStyle),r.itemMarginTop=o,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=e,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=p(n.symbolWidth,16),r.pages=[],r.render(),Qt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n}),i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==B&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;Vt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,Vt(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,d(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":St}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(e){var n=this.chart,r=n.renderer,i=this.options,s=i.layout==="horizontal",o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?p(i.itemDistance,20):0,h=!i.rtl,d=i.width,v=i.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,E=b.options,E=this.createCheckboxForItem&&E&&E.showCheckbox,S=i.useHTML;y||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=r.text(i.labelFormat?w(i.labelFormat,e):i.labelFormatter.call(e),h?o+u:-u,this.baseline||0,S).css(t(e.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=r.fontMetrics(a.fontSize,y).f+3+m,y.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,S,a,f),this.colorizeItem(e,e.visible),E&&this.createCheckboxForItem(e)),r=y.getBBox(),o=e.checkboxOffset=i.itemWidth||e.legendItemWidth||o+u+r.width+c+(E?20:0),this.itemHeight=u=q(e.legendItemHeight||r.height),s&&this.itemX-g+o>(d||n.chartWidth-2*l-g-i.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+v,this.lastLineHeight=0),this.maxItemWidth=z(this.maxItemWidth,o),this.lastItemY=m+this.itemY+v,this.lastLineHeight=z(u,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=o:(this.itemY+=m+u+v,this.lastLineHeight=u),this.offsetWidth=d||z((s?this.itemX-g-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];return Vt(this.chart.series,function(t){var n=t.options;p(n.showInLegend,l(n.linkedTo)?!1:B,!0)&&(e=e.concat(t.legendItems||(n.legendType==="point"?t.data:t)))}),e},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX,t.itemY=t.initialItemY,t.offsetWidth=0,t.lastItemY=0,i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup)),t.renderTitle(),s=t.getAllItems(),x(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),l.reversed&&s.reverse(),t.allItems=s,t.display=o=!!s.length,Vt(s,function(e){t.renderItem(e)}),u=l.width||t.offsetWidth,a=t.lastItemY+t.lastLineHeight+t.titleHeight,a=t.handleOverflow(a);if(h||p)u+=c,a+=c,f?u>0&&a>0&&(f[f.isNew?"attr":"animate"](f.crisp({width:u,height:a})),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||St}).add(i).shadow(l.shadow),f.isNew=!0),f[o?"show":"hide"]();t.legendWidth=u,t.legendHeight=a,Vt(s,function(e){t.positionItem(e)}),o&&i.align(e({width:u,height:a},l),!0,"spacingBox"),n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=p(f.animation,!0),c=f.arrowSize||12,h=this.nav,d=this.pages,v,m=this.allItems;return i.layout==="horizontal"&&(s/=2),o&&(s=W(s,o)),d.length=0,e>s&&!i.useHTML?(this.clipHeight=u=z(s-20-this.titleHeight-this.padding,0),this.currentPage=p(this.currentPage,1),this.fullHeight=e,Vt(m,function(e,t){var n=e._legendItemPos[1],r=q(e.legendItem.getBBox().height),i=d.length;if(!i||n-d[i-1]>u&&(v||n)!==d[i-1])d.push(v||n),i++;t===m.length-1&&n+r-d[i-1]>u&&d.push(n),n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(a)),a.attr({height:u}),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(a.attr({height:n.chartHeight}),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r),i>0&&(t!==B&&A(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?o:u}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},Ut=qt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup,e=e.baseline-q(i.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b*.3),o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s)),n&&n.enabled!==!1&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}},(/Trident\/7\.0/.test(Q)||tt)&&b(bn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),P.prototype={init:function(e,n){var r,i=e.series;e.series=null,r=t(ht,e),r.series=e.series=i,this.userOptions=e,i=r.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=bt.length,bt.push(o),wt++,i.reflow!==!1&&Qt(o,"load",function(){o.initReflow()});if(s)for(u in s)Qt(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=ot?!1:p(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=It[e.type||t.type||t.defaultSeriesType])||gt(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Vt(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var n=this.axes,r=this.series,i=this.pointer,s=this.legend,o=this.isDirtyLegend,u,a,f=this.hasCartesianSeries,l=this.isDirtyBox,c=r.length,h=c,p=this.renderer,d=p.isHidden(),v=[];A(t,this),d&&this.cloneRenderTo();for(this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(u=!0,t.isDirty)){a=!0;break}if(a)for(h=c;h--;)if(t=r[h],t.options.stacking)t.isDirty=!0;Vt(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),u&&this.getStacks(),f&&(this.isResizing||(this.maxTicks=null,Vt(n,function(e){e.setScale()})),this.adjustTickAmounts()),this.getMargins(),f&&(Vt(n,function(e){e.isDirty&&(l=!0)}),Vt(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,v.push(function(){Yt(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(l||u)&&t.redraw()})),l&&this.drawChartBox(),Vt(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),p.draw(),Yt(this,"redraw"),d&&this.cloneRenderTo(!0),Vt(v,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});Vt(n,function(e,t){e.index=t,e.isX=!0}),Vt(t,function(e,t){e.index=t}),n=n.concat(t),Vt(n,function(t){new D(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return Vt(this.series,function(t){e=e.concat($t(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return $t(this.series,function(e){return e.selected})},getStacks:function(){var e=this;Vt(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Vt(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+p(t.options.stack,""))})},setTitle:function(e,n,r){var i,s=this,o=s.options,u;u=o.title=t(o.title,e),i=o.subtitle=t(o.subtitle,n),o=i,Vt([["title",e,u],["subtitle",n,o]],function(e){var t=e[0],n=s[t],r=e[1],e=e[2];n&&r&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(r)},layOutTitles:function(t){var n=0,r=this.title,i=this.subtitle,s=this.options,o=s.title,s=s.subtitle,u=this.renderer,a=this.spacingBox.width-44;r&&(r.css({width:(o.width||a)+"px"}).align(e({y:u.fontMetrics(o.style.fontSize,r).b-3},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign)&&(n=r.getBBox().height),i&&(i.css({width:(s.width||a)+"px"}).align(e({y:n+(o.margin-13)+u.fontMetrics(o.style.fontSize,i).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(n=U(n+i.getBBox().height))),r=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&r&&(this.isDirtyBox=r,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=zt(n,"width")),l(e)||(this.containerHeight=zt(n,"height")),this.chartWidth=z(0,t||this.containerWidth||600),this.chartHeight=z(0,p(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),k(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),d(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),j.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,i=this.options.chart,s,o,u;this.renderTo=t=i.renderTo,u="highcharts-"+lt++,r(t)&&(this.renderTo=t=j.getElementById(t)),t||gt(13,!0),s=n(c(t,"data-highcharts-chart")),!isNaN(s)&&bt[s]&&bt[s].hasRendered&&bt[s].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!i.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=t=v(Et,{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},e({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=i.forExport?new an(t,s,o,i.style,!0):new ut(t,s,o,i.style),ot&&this.renderer.create(this,t,s,o)},getMargins:function(){var e=this.spacing,t,n=this.legend,r=this.margin,i=this.options.legend,s=p(i.margin,20),o=i.x,u=i.y,a=i.align,f=i.verticalAlign,c=this.titleOffset;this.resetMargins(),t=this.axisOffset,c&&!l(r[0])&&(this.plotTop=z(this.plotTop,c+this.options.title.margin+e[0])),n.display&&!i.floating&&(a==="right"?l(r[1])||(this.marginRight=z(this.marginRight,n.legendWidth-o+s+e[1])):a==="left"?l(r[3])||(this.plotLeft=z(this.plotLeft,n.legendWidth+o+s+e[3])):f==="top"?l(r[0])||(this.plotTop=z(this.plotTop,n.legendHeight+u+s+e[0])):f==="bottom"&&!l(r[2])&&(this.marginBottom=z(this.marginBottom,n.legendHeight-u+s+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Vt(this.axes,function(e){e.getOffset()}),l(r[3])||(this.plotLeft+=t[3]),l(r[0])||(this.plotTop+=t[0]),l(r[2])||(this.marginBottom+=t[2]),l(r[1])||(this.marginRight+=t[1]),this.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||zt(r,"width"),s=n.height||zt(r,"height"),n=e?e.target:F,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&i&&s&&(n===F||n===j)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i,t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Qt(F,"resize",t),Qt(e,"destroy",function(){Gt(F,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o;r.isResizing+=1,o=function(){r&&Yt(r,"endResize",null,function(){r.isResizing-=1})},A(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,l(e)&&(r.chartWidth=i=z(0,q(e)),r.hasUserSize=!!i),l(t)&&(r.chartHeight=s=z(0,q(t))),(dt?en:d)(r.container,{width:i+"px",height:s+"px"},dt),r.setChartSize(!0),r.renderer.setSize(i,s,n),r.maxTicks=null,Vt(r.axes,function(e){e.isDirty=!0,e.setScale()}),Vt(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Yt(r,"resize"),dt===!1?o():setTimeout(o,dt&&dt.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=q(this.plotLeft),this.plotTop=f=q(this.plotTop),this.plotWidth=l=z(0,q(r-a-this.marginRight)),this.plotHeight=c=z(0,q(i-f-this.marginBottom)),this.plotSizeX=t?c:l,this.plotSizeY=t?l:c,this.plotBorderWidth=s.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]},this.plotBox=n.plotBox={x:a,y:f,width:l,height:c},r=2*R(this.plotBorderWidth/2),t=U(z(r,u[3])/2),n=U(z(r,u[0])/2),this.clipBox={x:t,y:n,width:R(this.plotSizeX-z(r,u[1])/2-t),height:z(0,R(this.plotSizeY-z(r,u[2])/2-n))},e||Vt(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=p(t[0],e[0]),this.marginRight=p(t[1],e[1]),this.marginBottom=p(t[2],e[2]),this.plotLeft=p(t[3],e[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||St},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:St,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;Vt(["inverted","angular","polar"],function(o){n=It[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=It[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;Vt(t,function(e){e.linkedSeries.length=0}),Vt(t,function(t){var n=t.options.linkedTo;r(n)&&(n=n===":previous"?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)})},renderSeries:function(){Vt(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var t=this,r=t.options.labels;r.items&&Vt(r.items,function(i){var s=e(r.style,i.style),o=n(s.left)+t.plotLeft,u=n(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(i.html,o,u).attr({zIndex:2}).css(s).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options;this.setTitle(),this.legend=new bn(this,n.legend),this.getStacks(),Vt(e,function(e){e.setScale()}),this.getMargins(),this.maxTicks=null,Vt(e,function(e){e.setTickPositions(!0),e.setMaxTicks()}),this.adjustTickAmounts(),this.getMargins(),this.drawChartBox(),this.hasCartesianSeries&&Vt(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(n.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;Yt(e,"destroy"),bt[e.index]=B,wt--,e.renderTo.removeAttribute("data-highcharts-chart"),Gt(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();Vt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Gt(r),s&&k(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!it&&F==F.top&&j.readyState!=="complete"||ot&&!F.canvg?(ot?cn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):j.attachEvent("onreadystatechange",function(){j.detachEvent("onreadystatechange",e.firstRender),j.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Yt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Vt(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Yt(e,"beforeRender"),qt.Pointer&&(e.pointer=new dn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),Vt(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Yt(e,"load"))},splashArray:function(e,t){var n=t[e],n=i(n)?n:[n,n,n,n];return[p(t[e+"Top"],n[0]),p(t[e+"Right"],n[1]),p(t[e+"Bottom"],n[2]),p(t[e+"Left"],n[3])]}},P.prototype.callbacks=[],fn=qt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,r=2*(e.slicedOffset||0),i,s=t.plotWidth-2*r,o=t.plotHeight-2*r,t=e.center,e=[p(t[0],"50%"),p(t[1],"50%"),e.size||"100%",e.innerSize||0],u=W(s,o),a;return Kt(e,function(e,t){return a=/%$/.test(e),i=t<2||t===2&&a,(a?[s,o,u,u][t]*n(e)/100:e)+(i?r:0)})}};var wn=function(){};wn.prototype={init:function(e,t,n){return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,n){var r=this.series,i=r.options.pointValKey||r.pointValKey,t=wn.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,i&&(this.y=this[i]),this.x===B&&r&&(this.x=n===B?r.autoIncrement():n),this},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,o=0,u=0;if(typeof e=="number"||e===null)t[r[0]]=e;else if(s(e)){e.length>i&&(n=typeof e[0],n==="string"?t.name=e[0]:n==="number"&&(t.x=e[0]),o++);for(;u<i;)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),f(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)Gt(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=p(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return Vt(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),w(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Yt(this,e,t,n)}};var En=function(){};En.prototype={isCartesian:!0,type:"line",pointClass:wn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,n){var r=this,i,s,o=t.series,u=function(e,t){return p(e.options.index,e._i)-p(t.options.index,t._i)};r.chart=t,r.options=n=r.setOptions(n),r.linkedSeries=[],r.bindAxes(),e(r,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),ot&&(n.animation=!1),s=n.events;for(i in s)Qt(r,i,s[i]);if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;r.getColor(),r.getSymbol(),Vt(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(n.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,x(o,u),this.yAxis&&x(this.yAxis.series,u),Vt(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;Vt(e.axisTypes||[],function(i){Vt(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==B&&t[i]===r.id||t[i]===B&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0}),!e[i]&&e.optionalAxis!==i&&gt(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;Vt(n.parallelArrays,typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else Vt(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];return this.userOptions=e,r=t(s,r.series,e),this.tooltipOptions=t(ht.tooltip,ht.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip),s.marker===null&&delete r.marker,r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(l(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||nn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Ut.drawLineMarker,setData:function(e,t,n,i){var u=this,a=u.points,f=a&&a.length||0,l,c=u.options,h=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=u.tooltipPoints,y=c.turboThreshold,b=this.xData,w=this.yData,E=(l=u.pointArrayMap)&&l.length,e=e||[];l=e.length,t=p(t,!0);if(i!==!1&&l&&f===l&&!u.cropped&&!u.hasGroupedData)Vt(e,function(e,t){a[t].update(e,!1,null,!1)});else{u.xIncrement=null,u.pointRange=m?1:c.pointRange,u.colorCounter=0,Vt(this.parallelArrays,function(e){u[e+"Data"].length=0});if(y&&l>y){for(n=0;d===null&&n<l;)d=e[n],n++;if(o(d)){m=p(c.pointStart,0),c=p(c.pointInterval,1);for(n=0;n<l;n++)b[n]=m,w[n]=e[n],m+=c;u.xIncrement=m}else if(s(d))if(E)for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c.slice(1,E+1);else for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c[1];else gt(12)}else for(n=0;n<l;n++)e[n]!==B&&(c={series:u},u.pointClass.prototype.applyOptions.apply(c,[e[n]]),u.updateParallelArrays(c,n),m&&c.name)&&(v.names[c.x]=c.name);r(w[0])&&gt(14,!0),u.data=[],u.options.data=e;for(n=f;n--;)a[n]&&a[n].destroy&&a[n].destroy();g&&(g.length=0),v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=h.isDirtyBox=!0,n=!1}t&&h.redraw(n)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=0,c=this.isCartesian,h,p;if(c&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(h=u.getExtremes(),p=h.min,h=h.max);if(c&&this.sorted&&(!a||r>a||this.forceCrop))if(t[r-1]<p||t[0]>h)t=[],n=[];else if(t[0]<p||t[r-1]>h)i=this.cropData(this.xData,this.yData,p,h),t=i.xData,n=i.yData,i=i.start,s=!0,l=t.length;for(a=t.length-1;a>=0;a--)r=t[a]-t[a-1],!s&&t[a]>p&&t[a]<h&&l++,r>0&&(o===B||r<o)?o=r:r<0&&this.requireSorting&&gt(15);this.cropped=s,this.cropStart=i,this.processedXData=t,this.processedYData=n,this.activePointCount=l,f.pointRange===null&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=p(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=z(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?c[p]=(new s).init(this,[r[p]].concat(h(i[p]))):(t[a]?l=t[a]:e[a]!==B&&(t[a]=l=(new s).init(this,e[a],r[p])),c[p]=l),c[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=B;this.data=t,this.points=c},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c,e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=l!==null&&l!==B&&(!t.isLog||l.length||l>0),f=this.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)l[a]!==null&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=p(void 0,T(i)),this.dataMax=p(void 0,N(i))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,s=this.points,u=s.length,a=!!this.modifyValue,f=e.pointPlacement,c=f==="between"||o(f),h=e.threshold,e=0;e<u;e++){var d=s[e],v=d.x,m=d.y,g=d.low,y=t&&i.stacks[(this.negStacks&&m<h?"-":"")+this.stackKey];i.isLog&&m<=0&&(d.y=m=null,gt(10)),d.plotX=n.translate(v,0,0,0,1,f,this.type==="flags"),t&&this.visible&&y&&y[v]&&(y=y[v],m=y.points[this.index+","+e],g=m[0],m=m[1],g===0&&(g=p(h,i.min)),i.isLog&&g<=0&&(g=null),d.total=d.stackTotal=y.total,d.percentage=y.total&&d.y/y.total*100,d.stackY=m,y.setOffset(this.pointXOffset||0,this.barW||0)),d.yBottom=l(g)?i.translate(g,0,1,0,1):null,a&&(m=this.modifyValue(m,d)),d.plotY=typeof m=="number"&&m!==Infinity?i.translate(m,0,1,0,1):B,d.clientX=c?n.translate(v,0,0,0,1):d.plotX,d.negative=d.y<(h||0),d.category=r&&r[d.x]!==B?r[d.x]:d.x}this.getSegments()},animate:function(t){var n=this.chart,r=n.renderer,s;s=this.options.animation;var o=this.clipBox||n.clipBox,u=n.inverted,a;s&&!i(s)&&(s=nn[this.type].animation),a=["_sharedClip",s.duration,s.easing,o.height].join(","),t?(t=n[a],s=n[a+"m"],t||(n[a]=t=r.clipRect(e(o,{width:0})),n[a+"m"]=s=r.clipRect(-99,u?-n.plotLeft:-n.plotTop,99,u?n.chartWidth:n.chartHeight)),this.group.clip(t),this.markerGroup.clip(s),this.sharedClipKey=a):((t=n[a])&&t.animate({width:n.plotSizeX},s),n[a+"m"]&&n[a+"m"].animate({width:n.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;n&&this.options.clip!==!1&&((!t||!r)&&n.clip(r?e.renderer.clipRect(r):e.clipRect),this.markerGroup.clip()),Yt(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(r||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,d=this.pointAttr[""],v,m,g,y=this.markerGroup,b=p(h.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/h.radius);if(h.enabled!==!1||this._hasPointMarkers)for(o=n.length;o--;)(u=n[o],i=R(u.plotX),s=u.plotY,c=u.graphic,v=u.marker||{},m=!!u.marker,t=b&&v.enabled===B||v.enabled,g=r.isInsidePlot(q(i),s,r.inverted),t&&s!==B&&!isNaN(s)&&u.y!==null)?(t=u.pointAttr[u.selected?"select":""]||d,a=t.r,f=p(v.symbol,this.symbol),l=f.indexOf("url")===0,c)?c[g?"show":"hide"](!0).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{})):g&&(a>0||l)&&(u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a,m?v:h).attr(t).add(y)):c&&(u.graphic=c.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=p(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=t.options,r=nn[t.type].marker?n.marker:n,i=r.states,s=i.hover,o,u=t.color;o={stroke:u,fill:u};var a=t.points||[],f,c=[],h,p=t.pointAttrToOptions;h=t.hasPointSpecificOptions;var d=n.negativeColor,v=r.lineColor,m=r.fillColor;f=n.turboThreshold;var g;n.marker?(s.radius=s.radius||r.radius+s.radiusPlus,s.lineWidth=s.lineWidth||r.lineWidth+s.lineWidthPlus):s.color=s.color||un(s.color||u).brighten(s.brightness).get(),c[""]=t.convertAttribs(r,o),Vt(["hover","select"],function(e){c[e]=t.convertAttribs(i[e],c[""])}),t.pointAttr=c,u=a.length;if(!f||u<f||h)for(;u--;){f=a[u],(r=f.options&&f.options.marker||f.options)&&r.enabled===!1&&(r.radius=0),f.negative&&d&&(f.color=f.fillColor=d),h=n.colorByPoint||f.color;if(f.options)for(g in p)l(r[p[g]])&&(h=!0);h?(r=r||{},h=[],i=r.states||{},o=i.hover=i.hover||{},n.marker||(o.color=o.color||!f.options.color&&s.color||un(f.color).brighten(o.brightness||s.brightness).get()),o={color:f.color},m||(o.fillColor=f.color),v||(o.lineColor=f.color),h[""]=t.convertAttribs(e(o,r),c[""]),h.hover=t.convertAttribs(i.hover,c.hover,h[""]),h.select=t.convertAttribs(i.select,c.select,h[""])):h=c,f.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(Q),r,i,s=e.data||[],o,u,a;Yt(e,"destroy"),Gt(e),Vt(e.axisTypes||[],function(t){if(a=e[t])f(a.series,e),a.isDirty=a.forceRedraw=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),Vt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),f(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return Vt(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return Vt(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]),Vt(n,function(n,u){var a=n[0],f=e[a];f?(tn(f),f.animate({d:o})):r&&o.length&&(f={stroke:n[1],"stroke-width":r,fill:St,zIndex:1},i?f.dashstyle=i:s&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(f).add(e.group).shadow(!u&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,i,s=this.graph,o=this.area,u=this.posClip,a=this.negClip;i=t.chartWidth;var f=t.chartHeight,l=z(i,f),c=this.yAxis;r&&(s||o)&&(r=q(c.toPixels(e.threshold||0,!0)),r<0&&(l-=r),e={x:0,y:0,width:l,height:r},l={x:0,y:r,width:l,height:l},t.inverted&&(e.height=l.y=t.plotWidth-r,n.isVML&&(e={x:t.plotWidth-r-t.plotLeft,y:0,width:i,height:f},l={x:r+t.plotLeft-i,y:0,width:t.plotLeft+r,height:i})),c.reversed?(t=l,i=e):(t=e,i=l),u?(u.animate(t),a.animate(i)):(this.posClip=u=n.clipRect(t),this.negClip=a=n.clipRect(i),s&&this.graphNeg&&(s.clip(u),this.graphNeg.clip(a)),o&&(o.clip(u),this.areaNeg.clip(a))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Vt(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Qt(n,"resize",e),Qt(t,"destroy",function(){Gt(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&p(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a),i&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),Vt(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!u&&n.clip(t.clipRect),i&&e.animate(),u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(r&&r.left,e.plotLeft),translateY:p(i&&i.top,e.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),t&&Yt(this,"updatedData")}},H.prototype={destroy:function(){C(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?w(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=X(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[this.options.crop===!1||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}},D.prototype.buildStacks=function(){var e=this.series,t=p(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},D.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)},En.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.stack,i=i.stacking,u=this.stackKey,a="-"+u,f=this.negStacks,l=this.yAxis,c=l.stacks,h=l.oldStacks,p,d,v,m,g,y;for(m=0;m<r;m++)g=e[m],y=t[m],v=this.index+","+m,d=(p=f&&y<s)?a:u,c[d]||(c[d]={}),c[d][g]||(h[d]&&h[d][g]?(c[d][g]=h[d][g],c[d][g].total=null):c[d][g]=new H(l,l.options.stackLabels,p,g,o)),d=c[d][g],d.points[v]=[d.cum||0],i==="percent"?(p=p?u:a,f&&c[p]&&c[p][g]?(p=c[p][g],d.total=p.total=z(p.total,d.total)+X(y)||0):d.total=L(d.total+(X(y)||0))):d.total=L(d.total+(y||0)),d.cum=(d.cum||0)+(y||0),d.points[v].push(d.cum),n[m]=d.cum;i==="percent"&&(l.usePercentage=!0),this.stackedYData=n,l.oldStacks={}}},En.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;Vt([t,"-"+t],function(t){var i;for(var s=r.length,o,u;s--;)if(o=r[s],i=(u=n[t]&&n[t][o])&&u.points[e.index+","+s],o=i)u=u.total?100/u.total:0,o[0]=L(o[0]*u),o[1]=L(o[1]*u),e.stackedYData[s]=o[1]})},e(P.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=p(t,!0),Yt(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new D(this,t(e,{index:this[s].length,isX:n})),o[s]=h(o[s]||{}),o[s].push(e),p(r,!0)&&this.redraw(i)},showLoading:function(t){var n=this,r=n.options,i=n.loadingDiv,s=r.loading,o=function(){i&&d(i,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};i||(n.loadingDiv=i=v(Et,{className:"highcharts-loading"},e(s.style,{zIndex:10,display:St}),n.container),n.loadingSpan=v("span",null,s.labelStyle,i),Qt(n,"redraw",o)),n.loadingSpan.innerHTML=t||r.lang.loading,n.loadingShown||(d(i,{opacity:0,display:""}),en(i,{opacity:s.style.opacity},{duration:s.showDuration||0}),n.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&en(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:St})}}),this.loadingShown=!1}}),e(wn.prototype,{update:function(e,t,n,r){function o(){u.applyOptions(e),i(e)&&!s(e)&&(u.redraw=function(){f&&(e&&e.marker&&e.marker.symbol?u.graphic=f.destroy():f.attr(u.pointAttr[u.state||""])),e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy()),u.redraw=null}),l=u.index,a.updateParallelArrays(u,l),h.data[l]=u.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&c.legend.destroyItem(u),t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options,t=p(t,!0);r===!1?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;A(t,s),e=p(e,!0),n.firePointEvent("remove",null,function(){o=Xt(n,u),u.length===i.length&&i.splice(o,1),u.splice(o,1),r.options.data.splice(o,1),r.updateParallelArrays(n,"splice",o,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()})}}),e(En.prototype,{addPoint:function(e,t,n,r){var i=this.options,s=this.data,o=this.graph,u=this.area,a=this.chart,f=this.xAxis&&this.xAxis.names,l=o&&o.shift||0,c=i.data,h,d=this.xData;A(r,a),n&&Vt([o,u,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=l+1)}),u&&(u.isArea=!0),t=p(t,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e]),o=r.x,u=d.length;if(this.requireSorting&&o<d[u-1])for(h=!0;u&&d[u-1]>o;)u--;this.updateParallelArrays(r,"splice",u,0,0),this.updateParallelArrays(r,u),f&&r.name&&(f[o]=r.name),c.splice(u,0,e),h&&(this.data.splice(u,0,null),this.processData()),i.legendType==="point"&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(r,"shift"),c.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),a.redraw())},remove:function(e,t){var n=this,r=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,Yt(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(n,r){var i=this,s=this.chart,o=this.userOptions,u=this.type,a=It[u].prototype,f=["group","markerGroup","dataLabelsGroup"],l;Vt(f,function(e){f[e]=i[e],delete i[e]}),n=t(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n),this.remove(!1);for(l in a)a.hasOwnProperty(l)&&(this[l]=B);e(this,It[n.type||u].prototype),Vt(f,function(e){i[e]=f[e]}),this.init(s,n),s.linkSeries(),p(r,!0)&&s.redraw(!1)}}),e(D.prototype,{update:function(n,r){var i=this.chart,n=i.options[this.coll][this.options.index]=t(this.userOptions,n);this.destroy(!0),this._addedPlotLB=B,this.init(i,e(n,{events:B})),i.isDirtyBox=!0,p(r,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);f(t.axes,this),f(t[n],this),t.options[n].splice(this.options.index,1),Vt(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}}),ln=m(En),It.line=ln,nn.area=t(Rt,{threshold:0});var Sn=m(En,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),Vt(r,function(t){var r=0,l;if(!c||u[t]&&u[t].y!==null)if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++)if(l=o[t].points[h+","+t]){r=l[1];break}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:yt})}}),n.length&&t.push(n)}else En.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=En.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;r===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)o=p(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],En.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]),Vt(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:p(r[2],un(r[1]).setOpacity(p(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Ut.drawRectangle});It.area=Sn,nn.spline=t(Rt),ln=m(En,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=z(e,i),l=2*i-a):a<e&&a<i&&(a=W(e,i),l=2*i-a),l>o&&l>i?(l=z(o,i),a=2*i-l):l<o&&l<i&&(l=W(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),It.spline=ln,nn.areaspline=t(nn.area),Sn=Sn.prototype,ln=m(ln,{type:"areaspline",closedStacks:!0,getSegmentPath:Sn.getSegmentPath,closeSegment:Sn.closeSegment,drawGraph:Sn.drawGraph,drawLegendSymbol:Ut.drawRectangle}),It.areaspline=ln,nn.column=t(Rt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),ln=m(En,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){En.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Vt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;t.grouping===!1?a=1:Vt(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===B&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u)});var n=W(X(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),f=n*t.groupPadding,c=(n-2*f)/a,h=t.pointWidth,t=l(h)?(c-h)/2:c*t.pointPadding,h=p(h,c-2*t);return e.columnMetrics={width:h,offset:t+(f+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-n/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=p(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=p(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=z(a,1+2*r),l=e.pointXOffset=u.offset,c=-(r%2?.5:0),h=r%2?.5:1;t.renderer.isVML&&t.inverted&&(h+=1),n.pointPadding&&(f=U(f)),En.prototype.translate.apply(e),Vt(e.points,function(n){var r=p(n.yBottom,s),u=W(z(-999-r,n.plotY),i.len+999+r),d=n.plotX+l,v=f,m=W(u,r),g;g=z(u,r)-m,X(g)<o&&o&&(g=o,m=q(X(m-s)>o?r-o:s-(i.translate(n.y,0,1,0,1)<=s?o:0))),n.barX=d,n.pointWidth=a,n.tooltipPos=t.inverted?[i.len-u,e.xAxis.len-d-v/2]:[d+v/2,u+i.pos-t.plotTop],v=q(d+v)+c,d=q(d)+c,v-=d,r=X(m)<.5,g=q(m+g)+h,m=q(m)+h,g-=m,r&&(m-=1,g+=1),n.shapeType="rect",n.shapeArgs={x:d,y:m,width:v,height:g}})},getSymbol:yt,drawLegendSymbol:Ut.drawRectangle,drawGraph:yt,drawPoints:function(){var e=this,n=this.chart,r=e.options,i=n.renderer,s=r.animationLimit||250,o,u;Vt(e.points,function(a){var f=a.plotY,c=a.graphic;f!==B&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,f=l(e.borderWidth)?{"stroke-width":e.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||e.pointAttr[""],c?(tn(c),c.attr(f)[n.pointCount<s?"animate":"attr"](t(o))):a.graphic=i[a.shapeType](o).attr(u).attr(f).add(e.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(a.graphic=c.destroy())})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};it&&(e?(i.scaleY=.001,e=W(t.pos+t.len,z(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Vt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),En.prototype.remove.apply(e,arguments)}}),It.column=ln,nn.bar=t(nn.column),Sn=m(ln,{type:"bar",inverted:!0}),It.bar=Sn,nn.scatter=t(Rt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">â—</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),Sn=m(En,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&En.prototype.drawGraph.call(this)}}),It.scatter=Sn,nn.pie=t(Rt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Rt={type:"pie",isCartesian:!1,pointClass:m(wn,{init:function(){wn.prototype.init.apply(this,arguments);var t=this,n;return t.y<0&&(t.y=null),e(t,{visible:t.visible!==!1,name:p(t.name,"Slice")}),n=function(e){t.slice(e.type==="select")},Qt(t,"select",n),Qt(t,"unselect",n),t},setVisible:function(e){var t=this,n=t.series,r=n.chart;t.visible=t.options.visible=e=e===B?!t.visible:e,n.options.data[Xt(t,n.data)]=t.options,Vt(["graphic","dataLabel","connector","shadowGroup"],function(n){t[n]&&t[n][e?"show":"hide"](!0)}),t.legendItem&&r.legend.colorizeItem(t,e),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(e,t,n){var r=this.series;A(n,r.chart),p(t,!0),this.sliced=this.options.sliced=e=l(e)?e:!this.sliced,r.options.data[Xt(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:yt,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(Vt(n,function(e){var n=e.graphic,e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){En.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;En.prototype.generatePoints.call(this),n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0?i.y/t*100:0,i.total=t},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=J/180*(a-90),a=(this.endAngleRad=J/180*(p(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,d=l.length,v;e||(this.center=e=this.getCenter()),this.getX=function(t,n){return u=I.asin(W((t-e[1])/(e[2]/2+c),1)),e[0]+(n?-1:1)*V(u)*(e[2]/2+c)};for(h=0;h<d;h++){v=l[h],s=f+t*a;if(!n||v.visible)t+=v.percentage/100;o=f+t*a,v.shapeType="arc",v.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:q(s*1e3)/1e3,end:q(o*1e3)/1e3},u=(o+s)/2,u>1.5*J?u-=2*J:u<-J/2&&(u+=2*J),v.slicedTranslation={translateX:q(V(u)*r),translateY:q($(u)*r)},s=V(u)*e[2]/2,o=$(u)*e[2]/2,v.tooltipPos=[e[0]+s*.7,e[1]+o*.7],v.half=u<-J/2||u>J/2?1:0,v.angle=u,i=W(i,c/2),v.labelPos=[e[0]+s+V(u)*c,e[1]+o+$(u)*c,e[0]+s+V(u)*i,e[1]+o+$(u)*i,e[0]+s,e[1]+o,c<0?"center":v.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var t=this,n=t.chart.renderer,r,i,s=t.options.shadow,o,u;s&&!t.shadowGroup&&(t.shadowGroup=n.g("shadow").add(t.group)),Vt(t.points,function(a){i=a.graphic,u=a.shapeArgs,o=a.shadowGroup,s&&!o&&(o=a.shadowGroup=n.g("shadow").add(t.shadowGroup)),r=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(e(u,r)):a.graphic=i=n[a.shapeType](u).setRadialReference(t.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(r).add(t.group).shadow(s,o),a.visible!==void 0&&a.setVisible(a.visible)})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})},drawLegendSymbol:Ut.drawRectangle,getCenter:fn.getCenter,getSymbol:yt},Rt=m(En,Rt),It.pie=Rt,En.prototype.drawDataLabels=function(){var n=this,r=n.options,i=r.cursor,s=r.dataLabels,o=n.points,u,a,f=n.hasRendered||0,c,h;if(s.enabled||n._hasPointLabels)n.dlProcessOptions&&n.dlProcessOptions(s),h=n.plotGroup("dataLabelsGroup","data-labels",s.defer?"hidden":"visible",s.zIndex||6),p(s.defer,!0)&&(h.attr({opacity:+f}),f||Qt(n,"afterAnimate",function(){n.visible&&h.show(),h[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=s,Vt(o,function(r){var o,f=r.dataLabel,d,v,m=r.connector,g=!0;u=r.options&&r.options.dataLabels,o=p(u&&u.enabled,a.enabled);if(f&&!o)r.dataLabel=f.destroy();else if(o){s=t(a,u),o=s.rotation,d=r.getLabelConfig(),c=s.format?w(s.format,d):s.formatter.call(d,s),s.style.color=p(s.color,s.style.color,n.color,"black");if(f){if(l(c))f.attr({text:c}),g=!1;else if(r.dataLabel=f=f.destroy(),m)r.connector=m.destroy()}else if(l(c)){f={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:o,padding:s.padding,zIndex:1};for(v in f)f[v]===B&&delete f[v];f=r.dataLabel=n.chart.renderer[o?"text":"label"](c,0,-999,null,null,null,s.useHTML).attr(f).css(e(s.style,i&&{cursor:i})).add(h).shadow(s.shadow)}f&&n.alignDataLabel(r,f,s,null,g)}})},En.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=p(t.plotX,-999),f=p(t.plotY,-999),l=n.getBBox();if(t=this.visible&&(t.series.forceDL||o.isInsidePlot(a,q(f),u)||i&&o.isInsidePlot(a,u?i.x+1:i.y+i.height-1,u)))i=e({x:u?o.plotWidth-f:a,y:q(u?o.plotHeight-a:f),width:0,height:0},i),e(r,{width:l.width,height:l.height}),r.rotation?n[s?"attr":"animate"]({x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2}).attr({align:r.align}):(n.align(r,null,i),u=n.alignAttr,p(r.overflow,"justify")==="justify"?this.justifyDataLabel(n,r,u,l,i,s):p(r.crop,!0)&&(t=o.isInsidePlot(u.x,u.y)&&o.isInsidePlot(u.x+l.width,u.y+l.height)));t||(n.attr({y:-999}),n.placed=!1)},En.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},It.pie&&(It.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=p(i.connectorPadding,10),o=p(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=p(i.softConnector,!0),h=i.distance,d=e.center,v=d[2]/2,m=d[1],g=h>0,y,b,w,E=[[],[]],S,x,T,C,k,L=[0,0,0,0],A=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){En.prototype.drawDataLabels.apply(e),Vt(t,function(e){e.dataLabel&&e.visible&&E[e.half].push(e)});for(C=2;C--;){var O=[],M=[],_=E[C],D=_.length,P;if(D){e.sortByAngle(_,C-.5);for(k=t=0;!t&&_[k];)t=_[k]&&_[k].dataLabel&&(_[k].dataLabel.getBBox().height||21),k++;if(h>0){b=W(m+v+h,r.plotHeight);for(k=z(0,m-v-h);k<=b;k+=t)O.push(k);b=O.length;if(D>b){n=[].concat(_),n.sort(A);for(k=D;k--;)n[k].rank=k;for(k=D;k--;)_[k].rank>=b&&_.splice(k,1);D=_.length}for(k=0;k<D;k++){n=_[k],w=n.labelPos,n=9999;var H,B;for(B=0;B<b;B++)H=X(O[B]-w[1]),H<n&&(n=H,P=B);if(P<k&&O[k]!==null)P=k;else for(b<D-k+P&&O[k]!==null&&(P=b-D+k);O[P]===null;)P++;M.push({i:P,y:O[P]}),O[P]=null}M.sort(A)}for(k=0;k<D;k++){n=_[k],w=n.labelPos,y=n.dataLabel,T=n.visible===!1?"hidden":"visible",n=w[1];if(h>0){if(b=M.pop(),P=b.i,x=b.y,n>x&&O[P+1]!==null||n<x&&O[P-1]!==null)x=W(z(0,n),r.plotHeight)}else x=n;S=i.justify?d[0]+(C?-1:1)*(v+h):e.getX(x===m-v-h||x===m+v+h?n:x,C),y._attr={visibility:T,align:w[6]},y._pos={x:S+i.x+({left:s,right:-s}[w[6]]||0),y:x+i.y-10},y.connX=S,y.connY=x,this.options.size===null&&(b=y.width,S-b<s?L[3]=z(q(b-S+s),L[3]):S+b>u-s&&(L[1]=z(q(S+b-u+s),L[1])),x-t/2<0?L[0]=z(q(-x+t/2),L[0]):x+t/2>a&&(L[2]=z(q(x+t/2-a),L[2])))}}}if(N(L)===0||this.verifyDataLabelOverflow(L))this.placeDataLabels(),g&&o&&Vt(this.points,function(t){f=t.connector,w=t.labelPos,(y=t.dataLabel)&&y._pos?(T=y._attr.visibility,S=y.connX,x=y.connY,l=c?["M",S+(w[6]==="left"?5:-5),x,"C",S,x,2*w[2]-w[4],2*w[3]-w[5],w[2],w[3],"L",w[4],w[5]]:["M",S+(w[6]==="left"?5:-5),x,"L",w[2],w[3],"L",w[4],w[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},It.pie.prototype.placeDataLabels=function(){Vt(this.points,function(e){var e=e.dataLabel,t;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},It.pie.prototype.alignDataLabel=yt,It.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n=n.minSize||80,s;return r[0]!==null?i=z(t[2]-z(e[1],e[3]),n):(i=z(t[2]-e[1]-e[3],n),t[0]+=(e[3]-e[1])/2),r[1]!==null?i=z(W(i,t[2]-z(e[0],e[2])),n):(i=z(W(i,t[2]-e[0]-e[2]),n),t[1]+=(e[0]-e[2])/2),i<t[2]?(t[2]=i,this.translate(t),Vt(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):s=!0,s}),It.column&&(It.column.prototype.alignDataLabel=function(e,n,r,i,s){var o=this.chart,u=o.inverted,a=e.dlBox||e.shapeArgs,f=e.below||e.plotY>p(this.translatedThreshold,o.plotSizeY),l=p(r.inside,!!this.options.stacking);a&&(i=t(a),u&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),!l)&&(u?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)),r.align=p(r.align,!u||l?"center":f?"right":"left"),r.verticalAlign=p(r.verticalAlign,u||l?"middle":f?"top":"bottom"),En.prototype.alignDataLabel.call(this,e,n,r,i,s)}),Rt=qt.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(n){var r=n.target,i;t.hoverSeries!==e&&e.onMouseOver();for(;r&&!i;)i=r.point,r=r.parentNode;i!==B&&i!==t.hoverPoint&&i.onMouseOver(n)};Vt(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Vt(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),at)&&e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(it?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:St,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),Vt([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),at&&e.on("touchstart",p)}))}},It.column&&(ln.prototype.drawTracker=Rt.drawTrackerPoint),It.pie&&(It.pie.prototype.drawTracker=Rt.drawTrackerPoint),It.scatter&&(Sn.prototype.drawTracker=Rt.drawTrackerPoint),e(bn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Yt(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Qt(e.checkbox,"click",function(t){Yt(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})}}),ht.legend.itemStyle.cursor="pointer",e(P.prototype,{showResetZoom:function(){var e=this,t=ht.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;Yt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,r=!1,s;!e||e.resetSelection?Vt(this.axes,function(e){t=e.zoom()}):Vt(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,s=i.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0)}),s=this.resetZoomButton,r&&!s?this.showResetZoom():!r&&i(s)&&(this.resetZoomButton=s.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&Vt(r,function(e){e.setState()}),Vt(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,o=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u;s.series.length&&f>W(a.dataMin,a.min)&&o<z(a.dataMax,a.max)&&(s.setExtremes(f,o,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),d(n.container,{cursor:"move"})}}),e(wn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[Xt(n,r.data)]=n.options,n.setState(e&&"select"),t||Vt(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[Xt(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),r&&(!r.shared||t.noSharedTooltip)&&r.refresh(this,e),this.setState("hover"),n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||Xt(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=t(this.series.options.point,this.options).events,n;this.events=e;for(n in e)Qt(this,n,e[n]);this.hasImportedEvents=!0}},setState:function(n,r){var i=this.plotX,s=this.plotY,o=this.series,u=o.options.states,a=nn[o.type].marker&&o.options.marker,f=a&&!a.enabled,l=a&&a.states[n],c=l&&l.enabled===!1,h=o.stateMarkerGraphic,p=this.marker||{},d=o.chart,v=o.halo,m,n=n||"";m=this.pointAttr[n]||o.pointAttr[n],n===this.state&&!r||this.selected&&n!=="select"||u[n]&&u[n].enabled===!1||n&&(c||f&&l.enabled===!1)||n&&p.states&&p.states[n]&&p.states[n].enabled===!1||(this.graphic?(a=a&&this.graphic.symbolName&&m.r,this.graphic.attr(t(m,a?{x:i-a,y:s-a,width:2*a,height:2*a}:{})),h&&h.hide()):(n&&l&&((a=l.radius,p=p.symbol||o.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h)?h[r?"animate":"attr"]({x:i-a,y:s-a}):p&&(o.stateMarkerGraphic=h=d.renderer.symbol(p,i-a,s-a,2*a,2*a).attr(m).add(o.markerGroup),h.currentSymbol=p)),h&&h[n&&d.isInsidePlot(i,s,d.inverted)?"show":"hide"]()),(i=u[n]&&u[n].halo)&&i.size?(v||(o.halo=v=d.renderer.path().add(o.seriesGroup)),v.attr(e({fill:un(this.color||o.color).setOpacity(i.opacity).get()},i.attributes))[r?"animate":"attr"]({d:this.haloPath(i.size)})):v&&v.attr({d:[]}),this.state=n)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),e(En.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Yt(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;r&&r.onMouseOut(),this&&e.events.mouseOut&&Yt(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t=this.options,n=this.graph,r=this.graphNeg,i=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,i[e]&&i[e].enabled===!1||(e&&(t=i[e].lineWidth||t+(i[e].lineWidthPlus||0)),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),r&&r.attr(e))))},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===B?!u:e)?"show":"hide",Vt(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),r.hoverSeries===n&&n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Vt(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Vt(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Yt(n,s)},setTooltipPoints:function(e){var t=[],n,r,i=this.xAxis,s=i&&i.getExtremes(),o=i?i.tooltipLen||i.len:this.chart.plotSizeX,u,a,f=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){e&&(this.tooltipPoints=null),Vt(this.segments||this.points,function(e){t=t.concat(e)}),i&&i.reversed&&(t=t.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(t),e=t.length;for(a=0;a<e;a++)if(i=t[a],n=i.x,n>=s.min&&n<=s.max){u=t[a+1],n=r===B?0:r+1;for(r=t[a+1]?W(z(0,R((i.clientX+(u?u.wrappedClientX||u.clientX:o))/2)),o):o;n>=0&&n<=r;)f[n++]=i}this.tooltipPoints=f}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===B?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Yt(this,e?"select":"unselect")},drawTracker:Rt.drawTrackerGraph}),e(qt,{Axis:D,Chart:P,Color:un,Point:wn,Tick:_,Renderer:ut,Series:En,SVGElement:M,SVGRenderer:an,arrayMin:T,arrayMax:N,charts:bt,dateFormat:pt,format:w,pathAnim:vt,getOptions:function(){return ht},hasBidiBug:st,isTouchDevice:nt,numberFormat:g,seriesTypes:It,setOptions:function(e){return ht=t(!0,ht,e),O(),ht},addEvent:Qt,removeEvent:Gt,createElement:v,discardElement:k,css:d,each:Vt,extend:e,map:Kt,merge:t,pick:p,splat:h,extendClass:m,pInt:n,wrap:b,svg:it,canvas:ot,vml:!it&&!ot,product:"Highcharts",version:"4.0.4"})}(),e.Highcharts=Highcharts}.apply(e,arguments)})}(this),define("tpl!apps/calculator/templates/calculator_graph_view.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div id =\"calculator-graphView\" class='calculator-graphView'></div>";return __p}}),define("apps/calculator/calculator_graph_view",["marionette","highcharts","tpl!apps/calculator/templates/calculator_graph_view.tpl","app","apps/calculator/calculator"],function(e,t,n,r){var i=e.ItemView.extend({tagName:"div",template:n,className:"calculator-graphContainer kite__item",ui:{container:".calculator-graphView"},recieve:{calculatorStatsUpdate:function(){return{event:"calculator:stats:update",channel:r.Calculator.channel.vent}}},initialize:function(){this.options.currentYear=(new Date).getFullYear();var e=this.recieve.calculatorStatsUpdate();this.listenTo(e.channel,e.event,function(e){this.onUpdate(e.yearlyInstallments)}.bind(this))},onShow:function(){this.options.chart=new t.Chart({chart:{renderTo:"calculator-graphView",type:"column"},style:{fontFamily:"OpenSans"},title:{text:"Monthly Breakdown",style:{color:"#a4b7d7",fontSize:"24px","font-family":"Droid Sans"}},subtitle:{text:"Interest  vs Principal",style:{color:"#e2ecff",fontSize:"15px","font-family":"OpenSans"}},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],labels:{style:{color:"#b3b3b3",fontSize:"9px",fontWeight:"lighter"}}},yAxis:{gridLineColor:"#e2ecff",title:{text:"Repayments (€)",style:{color:"#b3b3b3",fontSize:"9px",fontWeight:"lighter"}},labels:{style:{color:"#b3b3b3",fontSize:"9px",fontWeight:"lighter"}}},tooltip:{valuePrefix:"€"},legend:{borderWidth:0,itemStyle:{color:"#b3b3b3",cursor:"pointer",fontSize:"12px",fontWeight:"lighter"}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Repayment",color:"#d88c90",data:[0,0,0,0,0,0,0,0,0,0,0,0]},{name:"Principal",color:"#a4b7d7",data:[0,0,0,0,0,0,0,0,0,0,0,0]}]})},onUpdatePrincipal:function(e){this.options.chart.series[0].setData(e)},onUpdateInterest:function(e){this.options.chart.series[1].setData(e)},onUpdate:function(e){var t=_.map(e.models,function(e){return Math.round(e.get("interestPaid"))}),n=_.map(e.models,function(e){return Math.round(e.get("principalPaid"))});this.onUpdatePrincipal(t),this.onUpdateInterest(n)},onDestroy:function(){this.options.chart.destroy()}});return i}),define("tpl!apps/calculator/templates/calculator_row_view.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<td data-th="Month">'+((__t=month)==null?"":_.escape(__t))+'</td>\n<td data-th="Balance">'+((__t=principalLeft)==null?"":_.escape(__t))+'</td> \n<td data-th="Principal">'+((__t=principalPaid)==null?"":_.escape(__t))+'</td>\n<td data-th="Interest">'+((__t=interestPaid)==null?"":_.escape(__t))+'</td> \n<td data-th="Payment">'+((__t=paid)==null?"":_.escape(__t))+"</td>";return __p}}),define("tpl!apps/calculator/templates/calculator_table_view.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<table class="calculator-tbl">\n	<thead>\n		<tr>\n			<th>Month</th>\n			<th>Balance</th> \n			<th>Principal</th>\n			<th>Interest</th>\n			<th>Payment</th>\n		</tr>\n	</thead>\n	<tbody>\n	</tbody>\n</table>';return __p}}),define("entities/calculator",["app","utils/utility"],function(e){return e.module("Entities",function(e,t,n,r,i,s){var o={currentYear:(new Date).getFullYear(),generateAggregates:function(e,t){return s.reduce(e,function(e,n){return{totalInterest:e.totalInterest+n.get("interestPaid"),totalPrincipal:e.totalPrincipal+n.get("principalPaid"),totalPrincipalLeft:t&&n.get("year")>=t?e.totalPrincipalLeft+n.get("principalPaid"):e.totalPrincipalLeft}},{totalInterest:0,totalPrincipal:0,totalPrincipalLeft:0})},fillArrayWithMonths:function(e,t,n,r){return s.map(Array.apply(null,new Array(t)),function(t,i){return new r({date:new Date(e,i+n,1),month:window.utility.toMonth(i+n),year:e})})},monthFill:function(e,t,n){if(t.length>=12)return t.slice(0,12);var r=12-t.length,i=null;return e===this.currentYear?(i=this.fillArrayWithMonths(e,r,0,n),i.concat(t)):(i=this.fillArrayWithMonths(e,r,t.length,n),t.concat(i))}};e.Installment=n.Model.extend({defaults:{interestPaid:0,principalPaid:0,principalLeft:0,month:null,year:0,date:null}}),e.InstallmentCollection=n.Collection.extend({model:e.Installment,comparator:"date",byYear:function(t){var n=this.filter(function(e){return e.get("date").getFullYear()===t});return new e.InstallmentCollection(n)},totalAggs:function(e){return o.generateAggregates(this.models,e)},yearAggs:function(e){var t=this.byYear(e);return o.generateAggregates(t.models)},generateState:function(t){var n=this.totalAggs(t),r=this.byYear(t),i=o.generateAggregates(r.models);return{year:t,totalPrincipal:n.totalPrincipal,totalInterest:n.totalInterest,yearlyPrincipal:i.totalPrincipal,yearlyInterest:i.totalInterest,totalPrincipalLeft:n.totalPrincipalLeft,yearlyInstallments:new e.InstallmentCollection(o.monthFill(t,r.models,e.Installment))}}});var u=[],a=null,f={calculateInstallments:function(e){var t=new Date;t=new Date(t.getFullYear(),t.getMonth(),1),t=t.addMonths(1);var n=e.get("interest"),r=e.get("termPeriod"),i=e.get("amount"),s=e.get("deposit"),o=e.get("term"),f=e.get("repayments"),l=n/100/r,c=i-s;for(var h=0;h<r*o;h++){var p=c*l,d=c>f-p?f-p:c;c-=d;var v=t.addMonths(h);u.add({interestPaid:p,principalPaid:d,principalLeft:c,month:v.getMonthName(),year:v.getFullYear(),date:v});if(c<=0)break}a.resolve(u)}};t.commands.setHandler("calculator:installments:calculate",function(t){u=new e.InstallmentCollection,a=i.Deferred(),f.calculateInstallments(t)}),t.reqres.setHandler("calculator:installments:fetch",function(){var e=a.promise();return e})}),e.Entities}),define("apps/calculator/calculator_table_view",["marionette","tpl!apps/calculator/templates/calculator_row_view.tpl","tpl!apps/calculator/templates/calculator_table_view.tpl","entities/calculator","utils/utility"],function(e,t,n,r){var i=e.ItemView.extend({tagName:"tr",template:t,onBeforeRender:function(){var e=Math.round(this.model.get("principalPaid")),t=Math.round(this.model.get("interestPaid")),n=Math.round(this.model.get("principalLeft")),i=this.model.get("month");this.model=new r.Installment({month:i,principalLeft:"€"+n.toString().commafy(),principalPaid:"€"+e.toString().commafy(),interestPaid:"€"+t.toString().commafy(),paid:"€"+(e+t).toString().commafy()})}}),s=e.CompositeView.extend({tagName:"div",template:n,className:"calculator-tblContainer kite__item",childView:i,childViewContainer:"tbody",initilize:function(){console.out(this)}});return s}),define("tpl!apps/calculator/templates/calculator_summary_layout.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<div id='fh-paginator'></div>\n<div id='fh-stats'></div>\n<div id='fh-graph'></div>\n<div id='fh-tables'></div>";return __p}}),define("apps/calculator/calculator_summary_layout",["marionette","apps/calculator/calculator_stats_layout","apps/calculator/calculator_year_view","apps/calculator/calculator_graph_view","apps/calculator/calculator_table_view","tpl!apps/calculator/templates/calculator_summary_layout.tpl","app","apps/calculator/calculator","components/guage/guage","components/guage/guage_model","entities/calculator"],function(e,t,n,r,i,s,o){var u=e.LayoutView.extend({tagName:"div",template:s,regions:{paginator:"#fh-paginator",stats:"#fh-stats",graph:"#fh-graph",tables:"#fh-tables"},recieve:{calculatorStatsUpdate:function(){return{event:"calculator:stats:update",channel:o.Calculator.channel.vent}}},fire:{calculatorPaginatorUpdate:function(){return{event:"calculator:paginator:update",channel:o.Calculator.channel.commands}}},initialize:function(){this.options.year=(new Date).getFullYear();var e=this.recieve.calculatorStatsUpdate();this.listenTo(e.channel,e.event,function(e){this.updateTable(e.yearlyInstallments)}.bind(this))},onRender:function(){this.stats.show(new t)},onShow:function(){this.paginator.show(new n),this.graph.show(new r);var e=this.fire.calculatorPaginatorUpdate();e.channel.execute(e.event,{year:this.options.year,totalPrincipalLeft:this.options.formModel.get("amount")-this.options.formModel.get("deposit")}),$(this.el).removeClass().addClass("bounceInUp animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this.el).removeClass(),this.onUpdateRegions()}.bind(this))},onUpdateRegions:function(){require(["apps/calculator/calculator_controller"],function(e){e.showYearlyStats(null,this.options.year)}.bind(this))},updateTable:function(e){this.tables.show(new i({collection:e}))}});return u}),define("tpl!apps/calculator/templates/calculator_navigator_view.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="calculator-toggleCalc kite__item js-navPrev">\n	&lt;\n</div>\n<div class="kite__item">\n	<h1 class="calculator-header"></h1>\n</div>\n<div class="calculator-toggleCalc kite__item js-navNext">\n	&gt;\n</div>\n';return __p}}),define("apps/calculator/calculator_navigator_view",["marionette","tpl!apps/calculator/templates/calculator_navigator_view.tpl","app","apps/calculator/calculator","utils/utility"],function(e,t,n){var r=e.ItemView.extend({tagName:"div",template:t,className:"kite kite--middle kite--justify",ui:{toggleCalc:".calculator-toggleCalc",header:"h1",prevBtn:".js-navPrev",nextBtn:".js-navNext"},events:{"click @ui.prevBtn":"onPrevAni","click @ui.nextBtn":"onNextAni"},fire:{calculatorToggleCalculator:function(){return{event:"calculator:toggle:mode",channel:n.commands}},calculatorResetForm:function(){return{event:"calculator:reset:form",channel:n.Calculator.channel.commands}}},onShow:function(){$(this.ui.header).text(this.options.header)},onNext:function(e){var t=this.fire.calculatorResetForm();t.channel.execute(t.event,{direction:e})},onPrevAni:function(){this.onNext("left")},onNextAni:function(){this.onNext("right")}});return r}),define("apps/calculator/calculator_layout",["marionette","tpl!apps/calculator/templates/calculator_layout.tpl","app","apps/calculator/calculator_summary_layout","apps/calculator/calculator_navigator_view","apps/calculator/calculator"],function(e,t,n,r,i){var s=e.LayoutView.extend({tagName:"div",template:t,className:"wrapper kite kite--center",regions:{navigator:".calculator-type",form:"#fh-form",summary:"#calculator--summary"},recieve:{calculatorSummary:function(){return{event:"calculator:summary",channel:n.Calculator.channel.commands}},calculatorResetForm:function(){return{event:"calculator:reset:form",channel:n.Calculator.channel.commands}}},fire:{calculatorToggleCalculator:function(){return{event:"calculator:toggle:mode",channel:n.commands}}},animate:{_animate:function(e,t,n){$(e).addClass(t+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n?n():$(e).removeClass(t+" animated")}.bind(this))},bounceInLeft:function(e){this._animate(e,"bounceInLeft")},bounceInRight:function(e){this._animate(e,"bounceInRight")},bounceOutLeft:function(e,t){this._animate(e,"bounceOutLeft",t)},bounceOutRight:function(e,t){this._animate(e,"bounceOutRight",t)}},initialize:function(){var e=this.recieve.calculatorResetForm();e.channel.setHandler(e.event,function(e){this.animateOut(e.direction)}.bind(this))},onShow:function(){this.navigator.show(new i({header:this.options.header}));var e=this.recieve.calculatorSummary();e.channel.setHandler(e.event,function(){this.summary.currentView?this.updateSummaryLayout():this.summary.show(new r({formModel:this.form.currentView.model}))}.bind(this)),this.animateIn()},animateIn:function(){switch(this.options.direction){case"left":this.animate.bounceInRight(this.el);break;default:this.animate.bounceInLeft(this.el)}},animateOut:function(e){var t=function(){var t=this.fire.calculatorToggleCalculator();t.channel.execute(t.event,{direction:e})}.bind(this);switch(e){case"left":this.animate.bounceOutLeft(this.el,t);break;default:this.animate.bounceOutRight(this.el,t)}},updateSummaryLayout:function(){this.summary.currentView.triggerMethod("updateRegions")}});return s}),define("behaviors/dropdown",["marionette"],function(e){return DropdownBehavior=e.Behavior.extend({ui:{slider:".js-slider"},events:{"focus @ui.slider":"onDropdownShow"},onDropdownShow:function(e){$(".a-slider:not(.a-closed)").each(function(){$(this).toggleClass("a-closed")}),$(e.target).next().toggleClass("a-closed")}}),DropdownBehavior}),define("behaviors/slider",["marionette"],function(e){var t={round:function(e,t,n){return e<t?t:e>n?n:e},noSegments:function(e){return e.length-1},segmentWidth:function(e,t){return e/t},getSegmentPosition:function(e,t,n){for(var r=1;r<n.length;r++)if(e<=r*t)return r-1;return n.length-1},getSegmentValue:function(e,t){for(var n=1;n<t.length;n++)if(e<=t[n])return n-1;return t.length-1},perPixelValue:function(e,t,n){var r=n[e],i=n[e+1];return(i-r)/t},positionFix:function(e,t){var n=e===t.min?0:e;return t.max-n},calculteSlideVal:function(e,t,n){var r=this.positionFix(e,t),i=this.noSegments(n),s=this.segmentWidth(t.max,i),o=this.getSegmentPosition(r,s,n),u=this.perPixelValue(o,s,n),a=r-o*s;return n[o]+Math.floor(a*u)},calculateSlidePos:function(e,t,n){if(e>n[n.length-1])return t.min;var r=this.noSegments(n),i=this.segmentWidth(t.max,r),s=this.getSegmentValue(e,n),o=this.perPixelValue(s,i,n),u=e-n[s],a=t.max-Math.floor(s*i+u/o);return a<=t.min?t.min:a}};return SliderBehavior=e.Behavior.extend({ui:{input:".slider-input",slider:".slider-pointer",foregroundScale:".slider-default"},events:{"mousedown @ui.slider":"onSliderDrag"},initialize:function(){this.view.options.model.on("change:fhValue",this.updateValue.bind(this)),this.view.on("slider:resize",this.onResize.bind(this)),this.updateValue()},onShow:function(){this.updateValue()},onSliderDrag:function(){var e={mousemove:function(e){$(this.ui.foregroundScale).width(t.round(this.view.options.max-(e.pageX-this.view.options.offset),this.view.options.min,this.view.options.max)+"px"),this.view.trigger("slider:resize",this)}.bind(this),mouseup:function(){this.view.trigger("slider:resize:complete",this),this.$el.off(e)}.bind(this)};this.$el.on(e)},onResize:function(){$(this.ui.input).val(t.calculteSlideVal($(this.ui.foregroundScale).width(),this.view.options,this.view.options.model.get("fhScale")))},updateValue:function(){$(this.ui.foregroundScale).width(t.calculateSlidePos(this.view.options.model.get("fhValue"),this.view.options,this.view.options.model.get("fhScale")))}}),SliderBehavior}),define("behaviors/numeric_inputbox",["marionette","utils/utility"],function(e){var t={timeoutReference:{}};return NumericInputBoxBehavior=e.Behavior.extend({ui:{input:".slider-input",slider:".slider-pointer",foregroundScale:".slider-default"},events:{"focus @ui.input":"startUpdating","blur @ui.input":"onFinish","mouseover @ui.input":"onDelayedUpdate","mouseout @ui.input":"cancelDelayedUpdate","keyup @ui.input":"onInputChange","keydown @ui.input":"incrementValue"},initialize:function(){this.view.on("slider:resize",this.onInputChange.bind(this)),this.view.on("slider:resize:complete",function(){this.onInputChange(),this.ui.input.focus()}.bind(this)),this.view.on("numeric:input:update",function(){this.onFinish()}.bind(this))},onShow:function(){this.onFinish()},onInputChange:function(){var e=this.ui.input.val();e&&(this.view.model.set({fhValue:e.uncommafy()}),e.endsWith(".")||this.showPrettyValue())},onFinish:function(){this.ui.input.val(this.getPrettyTitle())},startUpdating:function(){var e=this.view.model.get("fhValue");this.ui.input.val(e===0?"":this.getPrettyValue())},onDelayedUpdate:function(){t.timeoutReference=setTimeout(function(){this.ui.input.trigger("focus.fh",null)}.bind(this),500)},cancelDelayedUpdate:function(){t.timeoutReference&&clearTimeout(t.timeoutReference)},incrementValue:function(e){var t=this.view.model.get("fhValue");switch(e.which){case 38:this.ui.input.val((t+this.view.model.get("fhIncrement")).toString().commafy()),e.preventDefault();break;case 40:t-=this.view.model.get("fhIncrement"),t>=0&&this.ui.input.val(t.toString().commafy()),e.preventDefault()}},getPrettyValue:function(){return this.view.model.get("fhValue").toString().commafy()},getPrettyTitle:function(){return this.view.model.get("fhValue")?this.view.model.get("fhTitle")+": "+this.view.model.get("fhPreTag")+this.getPrettyValue()+this.view.model.get("fhPostTag"):this.view.model.get("fhTitle")},showPrettyValue:function(){this.ui.input.val(this.getPrettyValue())}}),NumericInputBoxBehavior}),define("tpl!components/slider/templates/freehold_slider.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<input class="slider-input '+((__t=fhIcon)==null?"":_.escape(__t))+' js-slider" type="text" class="" placeHolder="'+((__t=fhDisplay)==null?"":_.escape(__t))+'">\n<div class="slider-bckgrd kite kite--center a-slider a-closed">\n	<div class="slider-selected kite__item">\n		<div class="slider-default kite__item">\n			<div class="slider-pointer">\n			</div>\n		</div>\n	</div>\n</div>';return __p}}),define("components/slider/slider",["app","behaviors/dropdown","behaviors/slider","behaviors/numeric_inputbox","tpl!components/slider/templates/freehold_slider.tpl"],function(e,t,n,r,i){return e.module("Widgets",function(e,t,n,r,s,o){var u={calculateWidth:function(e){return Math.floor((e.width()-20)/20)*20+2}};e.SliderView=r.ItemView.extend({tagName:"div",template:i,className:"u-normalSpacing",behaviors:{DropdownBehavior:{},SliderBehavior:{},NumericInputBoxBehavior:{}},ui:{slider:".slider-pointer",sliderContainer:".slider-bckgrd",foregroundScale:".slider-default",backgroundScale:".slider-selected"},onShow:function(){var e=u.calculateWidth(this.ui.sliderContainer);this.ui.backgroundScale.width(e),this.options.max=e+this.ui.slider.width(),this.options.min=this.ui.slider.width()/2,this.options.offset=this.ui.backgroundScale.position().left,this.ui.foregroundScale.width(this.options.max)}})}),e.Widgets.SliderView}),define("tpl!components/numeric_input/templates/freehold_numeric_input.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<input class="slider-input '+((__t=fhIcon)==null?"":_.escape(__t))+' js-slider" type="text" placeHolder="'+((__t=fhDisplay)==null?"":_.escape(__t))+'">';return __p}}),define("components/numeric_input/numeric_input",["app","behaviors/numeric_inputbox","tpl!components/numeric_input/templates/freehold_numeric_input.tpl"],function(e,t,n){return e.module("Widgets",function(e,t,r,i,s,o){e.NumericInputView=i.ItemView.extend({tagName:"div",template:n,className:"u-normalSpacing",behaviors:{NumericInputBoxBehavior:{}}})}),e.Widgets.NumericInputView}),define("components/numeric_input/numeric_input_model",["app"],function(e){return e.module("Widgets",function(e,t,n,r,i,s){e.NumericInputModel=n.Model.extend({defaults:{fhTitle:null,fhValue:0,fhDisplay:null,fhMin:0,fhMax:100,fhPreTag:"",fhPostTag:"",fhIcon:"",fhScale:null,fhIncrement:1},initialize:function(){this.on("change:fhValue",this.updateValue),this.updateValue(),this.get("fhScale")||this.set({fhScale:[this.get("fhMin"),this.get("fhMax")]})},updateValue:function(){this.setValue()},setValue:function(){var e=this.get("fhValue");e&&(e=parseFloat(e),e?this.set({fhValue:e}):this.set({fhValue:""}))}})}),e.Widgets.NumericInputModel}),define("apps/calculator/calculator_form_layout",["marionette","backbone.babysitter","app","components/slider/slider","components/numeric_input/numeric_input","components/numeric_input/numeric_input_model"],function(e,t,n){var r=e.LayoutView.extend({tagName:"form",className:"login-form kite__item",viewContainer:undefined,regions:{amount:"#fh-amount",term:"#fh-term",deposit:"#fh-deposit",interest:"#fh-interest",repayments:"#fh-repayments"},initialize:function(){this.template=this.options.tpl,this.viewContainer=new Backbone.ChildViewContainer;var e="amount";this.viewContainer.add(new n.Widgets.SliderView({model:new n.Widgets.NumericInputModel({fhTitle:"Loan Amount",fhValue:this.model.get(e),fhMin:0,fhMax:2e6,fhIncrement:1e3,fhPreTag:"€",fhIcon:"u-home",fhScale:[0,1e5,25e4,4e5,2e6],fhModelAttr:e,fhParentModel:this.model})}),e);var t="term";this.viewContainer.add(new n.Widgets.SliderView({model:new n.Widgets.NumericInputModel({fhTitle:"Loan Term",fhValue:this.model.get(t),fhMin:0,fhMax:45,fhIncrement:1,fhPostTag:" years",fhIcon:"u-clock",fhModelAttr:t,fhParentModel:this.model})}),t);var r="deposit";this.viewContainer.add(new n.Widgets.SliderView({model:new n.Widgets.NumericInputModel({fhTitle:"Deposit",fhValue:this.model.get(r),fhMin:0,fhMax:1e5,fhIncrement:1e3,fhPreTag:"€",fhIcon:"u-euro",fhScale:[0,1e4,2e4,5e4,1e5],fhModelAttr:r,fhParentModel:this.model})}),r);var i="interest";this.viewContainer.add(new n.Widgets.SliderView({model:new n.Widgets.NumericInputModel({fhTitle:"Interest Rate",fhValue:this.model.get(i),fhMin:0,fhMax:10,fhIncrement:1,fhPostTag:"%",fhIcon:"u-percentage",fhModelAttr:i,fhParentModel:this.model})}),i);var s="repayments";this.viewContainer.add(new n.Widgets.NumericInputView({model:new n.Widgets.NumericInputModel({fhTitle:"Repayments",fhValue:this.model.get(s),fhMin:0,fhMax:2e3,fhIncrement:100,fhPreTag:"€",fhIcon:"u-graph",fhScale:[0,250,500,1e3,2e4],fhModelAttr:s,fhParentModel:this.model})}),s),this.viewContainer.each(function(e){var t=this.viewContainer;e.model.on("change:fhValue",function(t){if(t.changed.fhValue){var n=e.model.get("fhModelAttr");n&&e.model.get("fhParentModel").set(n,t.changed.fhValue)}}.bind(this)),e.model.get("fhParentModel").on("change",function(n){_.each(Object.keys(n.changed),function(n){if(n===e.model.get("fhParentModel").get("mode")){var r=t.findByCustom(n);r.model.set({fhValue:e.model.get("fhParentModel").get(n)}),r.trigger("numeric:input:update")}}.bind(n))}.bind(this))}.bind(this))},onShow:function(){this.amount.show(this.viewContainer.findByCustom("amount")),this.term.show(this.viewContainer.findByCustom("term")),this.deposit.show(this.viewContainer.findByCustom("deposit")),this.interest.show(this.viewContainer.findByCustom("interest")),this.repayments.show(this.viewContainer.findByCustom("repayments")),$(this[this.model.attributes.mode].el).find("input").prop("disabled",!0)}});return r}),define("apps/calculator/calculator_model",["app","apps/calculator/calculator","entities/calculator","apps/calculator/calculator_model","apps/calculator/calculator_summary_layout"],function(e){var t={timeoutReference:{}};return e.module("Calculator",function(e,n,r,i,s,o){e.Model=r.Model.extend({termPeriod:12,defaults:{amount:0,term:0,deposit:0,interest:0,repayments:0,termPeriod:12},fire:{calculatorSummary:function(){return{event:"calculator:summary",channel:n.Calculator.channel.commands}},calculatorInstallments:function(){return{event:"calculator:installments:calculate",channel:n.commands}}},initialize:function(){this.on("change",function(e){this.onChange(e)})},canCalculateRepayments:function(){return this.get("mode")==="repayments"&&this.get("amount")&&this.get("term")&&this.get("interest")},calculateRepayments:function(){var e=this.get("interest")/100/this.termPeriod,t=Math.pow(e+1,this.get("term")*this.termPeriod),n=this.get("amount")-this.get("deposit");return Math.ceil(n*e*t/(t-1))},canCalculateTerm:function(){return this.get("mode")==="term"&&this.get("amount")&&this.get("interest")&&this.get("repayments")},calculateTerm:function(){var e=this.get("interest")/100/this.termPeriod,t=this.get("amount")-this.get("deposit"),n=this.get("repayments")-t*e;if(n>0)return Math.ceil(Math.log(this.get("repayments")/n)/Math.log(e+1)/12)},onChange:function(){this.canCalculateRepayments()&&(this.set({repayments:this.calculateRepayments()}),this.createSummary());if(this.canCalculateTerm()){var e=this.calculateTerm();e&&(this.set({term:e}),this.createSummary())}},createSummary:function(){t.timeoutReference&&clearTimeout(t.timeoutReference),t.timeoutReference=setTimeout(function(){var e=this.fire.calculatorSummary();e.channel.execute(e.event);var t=this.fire.calculatorInstallments();t.channel.execute(t.event,this)}.bind(this),1e3)}})}),e.Calculator.Model}),define("tpl!apps/calculator/templates/calculator_repayment_layout.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="fh-amount"></div>\n<div id="fh-term"></div>\n<div id="fh-interest"></div>\n<div id="fh-deposit"></div>\n<div id="fh-repayments"></div>';return __p}}),define("tpl!apps/calculator/templates/calculator_term_layout.tpl",["underscore"],function(_){return function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="fh-amount"></div>\n<div id="fh-repayments"></div>\n<div id="fh-interest"></div>\n<div id="fh-deposit"></div>\n<div id="fh-term"></div>';return __p}}),define("apps/calculator/calculator_controller",["app","apps/calculator/calculator","apps/calculator/calculator_layout","apps/calculator/calculator_form_layout"],function(e,t,n,r){return e.module("Calculator",function(e,t,i,s,o,u){e.Controller={showRepaymentCalculator:function(e){require(["apps/calculator/calculator_model","tpl!apps/calculator/templates/calculator_repayment_layout.tpl"],function(i,s){var o=new n(e);t.mainRegion.show(o);var u=new r({model:new t.Calculator.Model({mode:"repayments"}),tpl:s});o.form.show(u)}.bind(this))},showTermCalculator:function(e){require(["apps/calculator/calculator_model","tpl!apps/calculator/templates/calculator_term_layout.tpl"],function(i,s){var o=new n(e);t.mainRegion.show(o);var u=new r({model:new t.Calculator.Model({mode:"term"}),tpl:s});o.form.show(u)})},showYearlyStats:function(e,n){n=n?n:(new Date).getFullYear(),require(["entities/calculator","apps/calculator/calculator_stats_layout","apps/calculator/calculator_year_view","apps/calculator/calculator_graph_view"],function(){var e=t.request("calculator:installments:fetch");o.when(e).done(function(e){if(e.last().get("year")>=n){var r=e.generateState(n);t.Calculator.channel.vent.trigger("calculator:stats:update",r)}})})}}}),e.Calculator.Controller}),define("apps/calculator/calculator",["app"],function(e){return e.module("Calculator",function(e,t,n,r,i,s){e.startWithParent=!1,e.channel=n.Wreqr.radio.channel("calculator"),e.onStart=function(){console.log("Starting Calculator"),console.log("Built using requirejs, backbone.marionette, less"),console.log("linkedin: https://www.linkedin.com/in/ritchieshawn"),console.log("git: https://github.com/xritchie")},e.onStop=function(){console.log("Stopping Calculator")}}),e.module("Routers.Calculator",function(e,t,n,r,i,s){e.Router=r.AppRouter.extend({appRoutes:{"calculator/repayment":"showRepaymentCalculator","calculator/term":"showTermCalculator"}});var o=function(e,n){t.startSubApp("Calculator"),e(n)},u={showRepaymentCalculator:function(e){require(["apps/calculator/calculator_controller"],function(t){o(t.showRepaymentCalculator,{header:"Repayment Calculator",direction:e?e.direction:"right"})})},showTermCalculator:function(e){require(["apps/calculator/calculator_controller"],function(t){o(t.showTermCalculator,{header:"Term Calculator",direction:e?e.direction:"right"})})}};t.on("calculator:repayment:show",function(e){t.navigate("calculator/repayment"),u.showRepaymentCalculator(e)}),t.on("calculator:term:show",function(e){t.navigate("calculator/term"),u.showTermCalculator(e)}),t.commands.setHandler("calculator:toggle:mode",function(e){n.history.fragment==="calculator/term"?t.trigger("calculator:repayment:show",e):t.trigger("calculator:term:show",e)}),t.addInitializer(function(){new e.Router({controller:u})})}),e.CalculatorRouter}),define("app",["marionette"],function(e){e.Behaviors.behaviorsLookup=function(){return window};var t=new e.Application;return t.addRegions({mainRegion:"#main-region"}),t.navigate=function(e,t){t=t?t:{},Backbone.history.navigate(e,t)},t.getCurrentRoute=function(){return Backbone.history.fragment},t.startSubApp=function(e,n){var r=e?t.module(e):null;if(t.currentApp===r)return;t.currentApp&&t.currentApp.stop(),t.currentApp=r,r&&r.start(n)},t.on("start",function(){Backbone.history&&require(["apps/calculator/calculator"],function(){Backbone.history.start(),t.getCurrentRoute()===""&&t.trigger("calculator:repayment:show")})}),t}),requirejs.config({paths:{marionette:"bower_components/marionette/lib/core/backbone.marionette",backbone:"bower_components/backbone/backbone","backbone.wreqr":"bower_components/backbone.wreqr/lib/backbone.wreqr","backbone.babysitter":"bower_components/backbone.babysitter/lib/backbone.babysitter","backbone.modelbinder":"bower_components/Backbone.ModelBinder/Backbone.ModelBinder",jquery:"bower_components/jquery/dist/jquery",underscore:"bower_components/underscore/underscore","jquery-ui":"bower_components/jquery-ui/jquery-ui",text:"bower_components/requirejs-text/text",tpl:"bower_components/requirejs-underscore-tpl/underscore-tpl","jquery.knob":"bower_components/jquery.knob/jquery.knob",highcharts:"bower_components/highcharts-release/highcharts"},shim:{underscore:{exports:"_"},backbone:{deps:["jquery","underscore"],exports:"Backbone"},"backbone.modelbinder":{deps:["backbone"]},marionette:{deps:["backbone"],exports:"Marionette"},"jquery-ui":["jquery"],"jquery.knob":["jquery"],tpl:["text"],highcharts:{exports:"Highcharts",deps:["jquery"]}}}),require(["app"],function(e){e.start()}),define("require_main",function(){});